var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,d=(e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(r)for(var n of r(t))o.call(t,n)&&l(e,n,t[n]);return e},i=(e,t,n)=>new Promise((a,r)=>{var s=e=>{try{l(n.next(e))}catch(t){r(t)}},o=e=>{try{l(n.throw(e))}catch(t){r(t)}},l=e=>e.done?a(e.value):Promise.resolve(e.value).then(s,o);l((n=n.apply(e,t)).next())});import{i as c,a as u,g as m,o as y,s as p,d as h,b as g,c as b,u as v,e as f,f as w,h as k,G as x,T as E,j as S,k as L,q as T,l as I,w as B,m as C,n as D}from"./vendor-firebase-BVRrpePb.js";import"./vendor-DHr1dU8I.js";var $,A,M=($={"assets/js/index-B_ifTzPD.js"(e){!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const a={apiKey:"AIzaSyDi0cFirxRJ9eC6mvy1WEDpB9MPzDDac3g",authDomain:"life-order-assistant.firebaseapp.com",projectId:"life-order-assistant",storageBucket:"life-order-assistant.appspot.com",messagingSenderId:"284691407205",appId:"1:284691407205:web:a6e935c498b280ce55c18c",measurementId:"G-E1MWRNNKDM"};let r,s,o;try{r=c(a),s=u(r,{experimentalForceLongPolling:!0,useFetchStreams:!1}),o=m(r)}catch(Et){}const l=(...e)=>{},$=(...e)=>{},A=(...e)=>{},M=new Set,q=(e,{defer:t=!0,timeout:n=8e3}={})=>!e||M.has(e)?Promise.resolve():new Promise((a,r)=>{try{const s=document.createElement("script");s.src=e,t&&(s.defer=!0),s.onload=()=>{M.add(e),a()},s.onerror=t=>{$("Failed to load script",e,t),r(t)};const o=setTimeout(()=>{$("Script load timeout",e),r(new Error("Script load timeout"))},n);s.addEventListener("load",()=>clearTimeout(o)),s.addEventListener("error",()=>clearTimeout(o)),document.head.appendChild(s)}catch(Et){A("loadScriptSafely error",Et),r(Et)}}),P=(e,t="success")=>{try{const n="ordina-toast-container";let a=document.getElementById(n);a||(a=document.createElement("div"),a.id=n,a.className="fixed inset-x-0 top-4 z-[9999] flex flex-col items-center space-y-2 pointer-events-none",document.body.appendChild(a));const r=document.createElement("div"),s="pointer-events-auto px-4 py-2 rounded-xl shadow-lg text-sm font-medium flex items-center gap-2 transition-opacity duration-300",o="error"===t?"bg-red-600 text-white":"warning"===t?"bg-amber-500 text-white":"bg-emerald-600 text-white";r.className=`${s} ${o}`,r.textContent=e,a.appendChild(r),setTimeout(()=>{r.style.opacity="0",setTimeout(()=>r.remove(),300)},2500)}catch(Et){A("showToast error",Et)}},z=e=>document.querySelectorAll(e),N={},R=e=>N[e]||(N[e]=(e=>document.getElementById(e))(e)),j={appTitle:"ORDINA",appSubtitle:"–£–ø—Ä–∞–≤–ª—è–π —Å–≤–æ–µ–π –∂–∏–∑–Ω—å—é —Å –ª–µ–≥–∫–æ—Å—Ç—å—é",tabDashboard:"–°–≤–æ–¥–∫–∞",tabDebts:"–î–æ–ª–≥–∏",tabRecurringExpenses:"–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã",tabMonthlyExpenses:"–†–∞—Å—Ö–æ–¥—ã –º–µ—Å—è—Ü–∞",tabTasks:"–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á",tabCalendar:"–ö–∞–ª–µ–Ω–¥–∞—Ä—å",tabPayments:"–û–ø–ª–∞—Ç–∞",dashboardTitle:"–°–≤–æ–¥–∫–∞ –∑–∞ –º–µ—Å—è—Ü",loading:"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...",dashRecurringPaid:"–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ (–æ–ø–ª–∞—á–µ–Ω–æ)",dashRecurringRemaining:"–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ (–æ—Å—Ç–∞–ª–æ—Å—å)",dashMonthlyExpenses:"–†–∞—Å—Ö–æ–¥—ã –∑–∞ –º–µ—Å—è—Ü",dashTotalDebt:"–û—Å—Ç–∞—Ç–æ–∫ –æ–±—â–µ–≥–æ –¥–æ–ª–≥–∞",dashTopCategories:"–¢–æ–ø –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ä–∞—Å—Ö–æ–¥–æ–≤",dashTasksMonth:"–û—Å—Ç–∞–ª–æ—Å—å –∑–∞–¥–∞—á (–º–µ—Å—è—Ü)",dashTasksYear:"–û—Å—Ç–∞–ª–æ—Å—å –∑–∞–¥–∞—á (–≥–æ–¥)",debtsTitle:"–û–±—â–∏–µ –¥–æ–ª–≥–∏",addDebt:"–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥",debtName:"–î–æ–ª–≥ (–ò–º—è)",amount:"–°—É–º–º–∞",paid:"–û–ø–ª–∞—á–µ–Ω–æ",remaining:"–û—Å—Ç–∞–ª–æ—Å—å",lastPaymentDate:"–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ–ø–ª–∞—Ç—ã",comments:"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏",actions:"–î–µ–π—Å—Ç–≤–∏—è",emptyDebts:"–°–ø–∏—Å–æ–∫ –¥–æ–ª–≥–æ–≤ –ø—É—Å—Ç. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É '–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥', —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.",recurringTitle:"–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã",addTemplate:"–î–æ–±–∞–≤–∏—Ç—å —à–∞–±–ª–æ–Ω",paymentDay:"–î–µ–Ω—å –æ–ø–ª–∞—Ç—ã",status:"–°—Ç–∞—Ç—É—Å",details:"–î–µ—Ç–∞–ª–∏",templateActions:"–î–µ–π—Å—Ç–≤–∏—è —Å —à–∞–±–ª–æ–Ω–æ–º",emptyRecurring:"–°–ø–∏—Å–æ–∫ –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø—É—Å—Ç. –°–æ–∑–¥–∞–π—Ç–µ —à–∞–±–ª–æ–Ω.",expensesTitle:"–í—Å–µ —Ä–∞—Å—Ö–æ–¥—ã –∑–∞",addExpense:"–î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥",category:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è",date:"–î–∞—Ç–∞",emptyExpenses:"–†–∞—Å—Ö–æ–¥–æ–≤ –≤ —ç—Ç–æ–º –º–µ—Å—è—Ü–µ –µ—â–µ –Ω–µ—Ç.",taskToday:"–ù–∞ —Å–µ–≥–æ–¥–Ω—è",taskMonth:"–ù–∞ –º–µ—Å—è—Ü",taskYear:"–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π",taskTodayTitle:"–ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è",taskMonthTitle:"–ó–∞–¥–∞—á–∏ –Ω–∞ –º–µ—Å—è—Ü",taskYearTitle:"–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –∑–∞–¥–∞—á–∏",addTask:"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É",name:"–ò–º—è",notes:"–ó–∞–º–µ—Ç–∫–∏",deadline:"–î–µ–¥–ª–∞–π–Ω",emptyTasks:"–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø—É—Å—Ç.",cancel:"–û—Ç–º–µ–Ω–∞",save:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å",add:"–î–æ–±–∞–≤–∏—Ç—å",delete:"–£–¥–∞–ª–∏—Ç—å",close:"–ó–∞–∫—Ä—ã—Ç—å",debtorName:"–ò–º—è –¥–æ–ª–∂–Ω–∏–∫–∞/–ù–∞–∑–≤–∞–Ω–∏–µ",totalAmount:"–û–±—â–∞—è —Å—É–º–º–∞",paidAmount:"–û–ø–ª–∞—á–µ–Ω–Ω–∞—è —Å—É–º–º–∞",comment:"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π",addDebtPayment:"–î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞—Ç–µ–∂ –ø–æ –¥–æ–ª–≥—É",paymentAmount:"–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞",paymentDayNum:"–î–µ–Ω—å –æ–ø–ª–∞—Ç—ã (1-31)",deleteConfirm:"–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ?",confirmYes:"–î–∞, —É–¥–∞–ª–∏—Ç—å",confirmNo:"–ù–µ—Ç, –æ—Ç–º–µ–Ω–∞",paidStatus:"–û–ø–ª–∞—á–µ–Ω–æ",unpaidStatus:"–ù–µ –æ–ø–ª–∞—á–µ–Ω–æ",statusDone:"–í—ã–ø–æ–ª–Ω–µ–Ω–æ",statusNotDone:"–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ",statusSkipped:"–ü—Ä–æ–ø—É—â–µ–Ω–æ",editDebt:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ–ª–≥",editTemplate:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω",editExpense:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å—Ö–æ–¥",editTask:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É",addTaskForToday:"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ —Å–µ–≥–æ–¥–Ω—è",addTaskForMonth:"–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ –º–µ—Å—è—Ü",addTaskForYear:"–î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –∑–∞–¥–∞—á—É",chartLabel:"–†–∞—Å—Ö–æ–¥—ã",debtRepayments:"–ü–æ–≥–∞—à–µ–Ω–∏–µ –¥–æ–ª–≥–æ–≤",recurringPayments:"–ï–∂–µ–º–µ—Å—è—á–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏",placeholderComment:"–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...",placeholderNewCategory:"–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è",placeholderEmail:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email",placeholderPassword:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",placeholderBirthYear:"1990",taskCarriedFrom:"—Å",addEvent:"–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ",editEvent:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ",eventName:"–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è",createTaskForEvent:"–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É –¥–ª—è —ç—Ç–æ–≥–æ —Å–æ–±—ã—Ç–∏—è",weekdays:["–ü–Ω","–í—Ç","–°—Ä","–ß—Ç","–ü—Ç","–°–±","–í—Å"],categoryEvent:"–°–æ–±—ã—Ç–∏–µ",categoryBirthday:"–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è",categoryMeeting:"–í—Å—Ç—Ä–µ—á–∞",categoryWedding:"–°–≤–∞–¥—å–±–∞",birthdayName:"–ò–º—è –∏–º–µ–Ω–∏–Ω–Ω–∏–∫–∞",birthYear:"–ì–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",meetingWith:"–° –∫–µ–º",time:"–í—Ä–µ–º—è (–æ–ø—Ü.)",place:"–ú–µ—Å—Ç–æ (–æ–ø—Ü.)",weddingNames:"–ò–º–µ–Ω–∞ –ø–∞—Ä—ã",taskCongratulate:"–ü–æ–∑–¥—Ä–∞–≤–∏—Ç—å",taskTurning:"–∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è",taskYearsOld:"–ª–µ—Ç",taskMeetWith:"–í—Å—Ç—Ä–µ—Ç–∏—Ç—å—Å—è —Å",taskWeddingOf:"–°–≤–∞–¥—å–±–∞",authTitle:"–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç",login:"–í–æ–π—Ç–∏",register:"–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è",logout:"–í—ã–π—Ç–∏",loginWithGoogle:"–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google",authInvalidEmail:"–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email –∞–¥—Ä–µ—Å–∞.",authEmailInUse:"–≠—Ç–æ—Ç email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω.",authWeakPassword:"–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π. –û–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤.",authInvalidCredentials:"–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å.",authGenericError:"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.",firebaseConfigError:"–û—à–∏–±–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Firebase",firebaseConfigErrorDesc:"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—Å—Ç–∞–≤–∏–ª–∏ –≤–∞—à firebaseConfig –≤ HTML-—Ñ–∞–π–ª.",manageCategories:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏",manageCategoriesTitle:"–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏",toastSuccess:"–£—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!",toastError:"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è!",toastDeleted:"–ó–∞–ø–∏—Å—å —É–¥–∞–ª–µ–Ω–∞.",errorGeneric:"–û—à–∏–±–∫–∞",errorDebtNotFound:"–î–æ–ª–≥ –Ω–µ –Ω–∞–π–¥–µ–Ω",radioTitle:"AzerbaiJazz Radio",radioPlaying:"–ò–≥—Ä–∞–µ—Ç",radioPaused:"–ü–∞—É–∑–∞",shoppingListTitle:"–°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫",shoppingListCopy:"–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å",shoppingListQuantity:"–ö–æ–ª-–≤–æ",shoppingListProduct:"–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞",shoppingListPrice:"–¶–µ–Ω–∞ (AZN)",shoppingListAdd:"–î–æ–±–∞–≤–∏—Ç—å",shoppingListTotal:"–ò—Ç–æ–≥–æ",shoppingListQuantityColumn:"–ö–æ–ª-–≤–æ",shoppingListProductColumn:"–¢–æ–≤–∞—Ä",shoppingListPriceColumn:"–¶–µ–Ω–∞",shoppingListSumColumn:"–°—É–º–º–∞",shoppingListActionsColumn:"–î–µ–π—Å—Ç–≤–∏—è",toPurchase:"–ö –ü–†–ò–û–ë–†–ï–¢–ï–ù–ò–Æ",purchased:"–ö–£–ü–õ–ï–ù–û",generalTotal:"–û–ë–©–ê–Ø –°–£–ú–ú–ê",newsBoxTitle:"–ù–æ–≤–æ—Å—Ç–∏",prev:"–ù–∞–∑–∞–¥",next:"–í–ø–µ—Ä–µ–¥",quickActionsTitle:"–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è",weatherLocation:"–õ–æ–∫–∞—Ü–∏—è",newsCountry:"–°—Ç—Ä–∞–Ω–∞",newsCategory:"–ö–∞—Ç–µ–≥–æ—Ä–∏—è",newsAllCountries:"–í—Å–µ —Å—Ç—Ä–∞–Ω—ã",newsAzerbaijan:"–ê–∑–µ—Ä–±–∞–π–¥–∂–∞–Ω",newsRussia:"–†–æ—Å—Å–∏—è",newsUSA:"–°–®–ê",newsUK:"–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è",newsGermany:"–ì–µ—Ä–º–∞–Ω–∏—è",newsTurkey:"–¢—É—Ä—Ü–∏—è",newsUkraine:"–£–∫—Ä–∞–∏–Ω–∞",newsFrance:"–§—Ä–∞–Ω—Ü–∏—è",newsItaly:"–ò—Ç–∞–ª–∏—è",newsSpain:"–ò—Å–ø–∞–Ω–∏—è",newsChina:"–ö–∏—Ç–∞–π",newsGeneral:"–û–±—â–µ–µ",newsPolitics:"–ü–æ–ª–∏—Ç–∏–∫–∞",newsEconomy:"–≠–∫–æ–Ω–æ–º–∏–∫–∞",newsWar:"–í–æ–π–Ω–∞",newsCulture:"–ö—É–ª—å—Ç—É—Ä–∞",newsNotFound:"–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",weatherLoading:"–ó–∞–≥—Ä—É–∑–∫–∞...",weatherError:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏",weatherLocationError:"–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞",weatherLocationSuccess:"–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∞",weatherUpdated:"–ü–æ–≥–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –≥–æ—Ä–æ–¥–∞",lastActivity:"–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",activityExpenseAdded:"–†–∞—Å—Ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω",activityTaskDone:"–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞",activityDebtUpdated:"–î–æ–ª–≥ –æ–±–Ω–æ–≤–ª–µ–Ω",months:["–Ø–Ω–≤–∞—Ä—å","–§–µ–≤—Ä–∞–ª—å","–ú–∞—Ä—Ç","–ê–ø—Ä–µ–ª—å","–ú–∞–π","–ò—é–Ω—å","–ò—é–ª—å","–ê–≤–≥—É—Å—Ç","–°–µ–Ω—Ç—è–±—Ä—å","–û–∫—Ç—è–±—Ä—å","–ù–æ—è–±—Ä—å","–î–µ–∫–∞–±—Ä—å"],monthsShort:["–Ø–Ω–≤","–§–µ–≤","–ú–∞—Ä","–ê–ø—Ä","–ú–∞–π","–ò—é–Ω","–ò—é–ª","–ê–≤–≥","–°–µ–Ω","–û–∫—Ç","–ù–æ—è","–î–µ–∫"],weekdaysFull:["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ"],weatherCityPlaceholder:"–ë–∞–∫—É",weatherCitySearchPlaceholder:"–ì–æ—Ä–æ–¥...",weatherGeoTitle:"–ü–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏",weatherRefresh:"–û–±–Ω–æ–≤–∏—Ç—å –ø–æ–≥–æ–¥—É",newsSource:"–ò—Å—Ç–æ—á–Ω–∏–∫",newsPublished:"–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ",newsLoadingNews:"–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...",newsNoNews:"–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã",newsAllCategories:"–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏",newsTechnology:"üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",newsBusiness:"üíº –ë–∏–∑–Ω–µ—Å",newsScience:"üî¨ –ù–∞—É–∫–∞",newsSports:"‚öΩ –°–ø–æ—Ä—Ç",newsHealth:"üè• –ó–¥–æ—Ä–æ–≤—å–µ",newsEntertainment:"üé¨ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è",newsSearchPlaceholder:"–ü–æ–∏—Å–∫...",newsRefresh:"–û–±–Ω–æ–≤–∏—Ç—å",newsArticlesLoaded:"–Ω–æ–≤–æ—Å—Ç–µ–π –∑–∞–≥—Ä—É–∂–µ–Ω–æ",newsError:"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π"},F={appTitle:"ORDINA",appSubtitle:"Manage your life with ease",tabDashboard:"Dashboard",tabDebts:"Debts",tabRecurringExpenses:"Recurring Expenses",tabMonthlyExpenses:"Monthly Expenses",tabTasks:"Task List",tabCalendar:"Calendar",tabPayments:"Payments",dashboardTitle:"Monthly Dashboard",loading:"Loading data...",dashRecurringPaid:"Recurring (Paid)",dashRecurringRemaining:"Recurring (Remaining)",dashMonthlyExpenses:"Monthly Expenses",dashTotalDebt:"Total Debt Remaining",dashTopCategories:"Top Expense Categories",dashTasksMonth:"Tasks Remaining (Month)",dashTasksYear:"Tasks Remaining (Year)",debtsTitle:"All Debts",addDebt:"Add Debt",debtName:"Debt (Name)",amount:"Amount",paid:"Paid",remaining:"Remaining",lastPaymentDate:"Last Payment Date",comments:"Comments",actions:"Actions",emptyDebts:"Debt list is empty. Click 'Add Debt' to start.",recurringTitle:"Recurring Expenses",addTemplate:"Add Template",paymentDay:"Payment Day",status:"Status",details:"Details",templateActions:"Template Actions",emptyRecurring:"Recurring expense list is empty. Create a template.",expensesTitle:"All Expenses for",addExpense:"Add Expense",category:"Category",date:"Date",emptyExpenses:"No expenses for this month yet.",taskToday:"Today",taskMonth:"Month",taskYear:"Long-term",taskTodayTitle:"Today's Tasks",taskMonthTitle:"Monthly Tasks",taskYearTitle:"Long-term Tasks",addTask:"Add Task",name:"Name",notes:"Notes",deadline:"Deadline",emptyTasks:"Task list is empty.",cancel:"Cancel",save:"Save",add:"Add",delete:"Delete",close:"Close",debtorName:"Debtor Name/Title",totalAmount:"Total Amount",paidAmount:"Paid Amount",comment:"Comment",addDebtPayment:"Add Debt Payment",paymentAmount:"Payment Amount",paymentDayNum:"Payment Day (1-31)",deleteConfirm:"Are you sure you want to delete this?",confirmYes:"Yes, delete",confirmNo:"No, cancel",paidStatus:"Paid",unpaidStatus:"Unpaid",statusDone:"Done",statusNotDone:"Not Done",statusSkipped:"Skipped",editDebt:"Edit Debt",editTemplate:"Edit Template",editExpense:"Edit Expense",editTask:"Edit Task",addTaskForToday:"Add Task for Today",addTaskForMonth:"Add Task for Month",addTaskForYear:"Add Long-term Task",chartLabel:"Expenses",debtRepayments:"Debt Repayments",recurringPayments:"Recurring Payments",placeholderComment:"Add a comment...",placeholderNewCategory:"New category",placeholderEmail:"Enter your email",placeholderPassword:"Enter your password",placeholderBirthYear:"1990",taskCarriedFrom:"from",addEvent:"Add Event",editEvent:"Edit Event",eventName:"Event Name",createTaskForEvent:"Create a task for this event",weekdays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],categoryEvent:"Event",categoryBirthday:"Birthday",categoryMeeting:"Meeting",categoryWedding:"Wedding",birthdayName:"Birthday person's name",birthYear:"Year of birth (optional)",meetingWith:"With whom",time:"Time (opt.)",place:"Place (opt.)",weddingNames:"Couple's names",taskCongratulate:"Congratulate",taskTurning:"turning",taskYearsOld:"years old",taskMeetWith:"Meet with",taskWeddingOf:"Wedding of",authTitle:"Sign in to your account",login:"Sign in",register:"Register",logout:"Log out",loginWithGoogle:"Sign in with Google",authInvalidEmail:"Invalid email format.",authEmailInUse:"This email is already in use.",authWeakPassword:"Password is too weak. It should be at least 6 characters.",authInvalidCredentials:"Invalid email or password.",authGenericError:"An error occurred. Please try again.",firebaseConfigError:"Firebase Configuration Error",firebaseConfigErrorDesc:"Please make sure you have correctly inserted your firebaseConfig in the HTML file.",manageCategories:"Manage Categories",manageCategoriesTitle:"Manage Categories",toastSuccess:"Saved successfully!",toastError:"Error saving!",toastDeleted:"Entry deleted.",errorGeneric:"Error",errorDebtNotFound:"Debt not found",radioTitle:"AzerbaiJazz Radio",radioPlaying:"Playing",radioPaused:"Paused",shoppingListTitle:"Shopping List",shoppingListCopy:"Copy",shoppingListQuantity:"Qty",shoppingListProduct:"Product Name",shoppingListPrice:"Price (AZN)",shoppingListAdd:"Add",shoppingListTotal:"Total",shoppingListQuantityColumn:"Qty",shoppingListProductColumn:"Product",shoppingListPriceColumn:"Price",shoppingListSumColumn:"Sum",shoppingListActionsColumn:"Actions",toPurchase:"TO PURCHASE",purchased:"PURCHASED",generalTotal:"GRAND TOTAL",newsBoxTitle:"News",prev:"Previous",next:"Next",quickActionsTitle:"Quick Actions",weatherLocation:"Location",newsCountry:"Country",newsCategory:"Category",newsAllCountries:"All Countries",newsAzerbaijan:"Azerbaijan",newsRussia:"Russia",newsUSA:"USA",newsUK:"United Kingdom",newsGermany:"Germany",newsTurkey:"Turkey",newsUkraine:"Ukraine",newsFrance:"France",newsItaly:"Italy",newsSpain:"Spain",newsChina:"China",newsGeneral:"General",newsPolitics:"Politics",newsEconomy:"Economy",newsWar:"War",newsCulture:"Culture",newsNotFound:"No news found",lastActivity:"Recent Activity",activityExpenseAdded:"Expense added",activityTaskDone:"Task completed",activityDebtUpdated:"Debt updated",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weatherCityPlaceholder:"Baku",weatherCitySearchPlaceholder:"City...",weatherGeoTitle:"By geolocation",weatherRefresh:"Refresh weather",newsSource:"Source",newsPublished:"Published",newsLoadingNews:"Loading news...",newsNoNews:"No news found",newsAllCategories:"All Categories",newsTechnology:"üíª Technology",newsBusiness:"üíº Business",newsScience:"üî¨ Science",newsSports:"‚öΩ Sports",newsHealth:"üè• Health",newsEntertainment:"üé¨ Entertainment",newsSearchPlaceholder:"Search...",newsRefresh:"Refresh",newsArticlesLoaded:"news articles loaded",newsError:"Failed to load news",weatherLoading:"Loading...",weatherError:"Loading error",weatherLocationError:"Geolocation unavailable",weatherLocationSuccess:"Location detected",weatherUpdated:"Weather updated for city"};let H={ru:j,en:F,az:{appTitle:"ORDINA",appSubtitle:"H…ôyatƒ±nƒ± asanlƒ±qla idar…ô et",tabDashboard:"√úmumi",tabDebts:"Borclar",tabRecurringExpenses:"Aylƒ±q x…ôrcl…ôr",tabMonthlyExpenses:"Cari ayƒ±n x…ôrci",tabTasks:"Tap≈üƒ±rƒ±qlar",tabCalendar:"T…ôqvim",tabPayments:"√ñd…ôni≈ül…ôr",dashboardTitle:"Aylƒ±q √ºmumi",loading:"M…ôlumatlar y√ºkl…ônir...",dashRecurringPaid:"Aylƒ±q (√∂d…ônilmi≈ü)",dashRecurringRemaining:"Aylƒ±q (qalan)",dashMonthlyExpenses:"Aylƒ±q x…ôrcl…ôr",dashTotalDebt:"√úmumi borc qalƒ±ƒüƒ±",dashTopCategories:"∆èsas x…ôrc kateqoriyalarƒ±",dashTasksMonth:"Qalan tap≈üƒ±rƒ±qlar (ay)",dashTasksYear:"Qalan tap≈üƒ±rƒ±qlar (il)",debtsTitle:"B√ºt√ºn borclar",addDebt:"Borc …ôlav…ô et",debtName:"Borc (Ad)",amount:"M…ôbl…ôƒü",paid:"√ñd…ônilmi≈ü",remaining:"Qalan",lastPaymentDate:"Son √∂d…ôni≈ü tarixi",comments:"≈û…ôrhl…ôr",actions:"∆èm…ôliyyatlar",emptyDebts:"Borclar siyahƒ±sƒ± bo≈üdur. Ba≈ülamaq √º√ß√ºn 'Borc …ôlav…ô et' d√ºym…ôsini basƒ±n.",recurringTitle:"Aylƒ±q x…ôrcl…ôr",addTemplate:"≈ûablon …ôlav…ô et",paymentDay:"√ñd…ôni≈ü g√ºn√º",status:"Status",details:"T…ôf…ôrr√ºatlar",templateActions:"≈ûablon …ôm…ôliyyatlarƒ±",emptyRecurring:"Aylƒ±q x…ôrcl…ôr siyahƒ±sƒ± bo≈üdur. ≈ûablon yaradƒ±n.",expensesTitle:"B√ºt√ºn x…ôrcl…ôr",addExpense:"X…ôrc …ôlav…ô et",category:"Kateqoriya",date:"Tarix",emptyExpenses:"Bu ay √º√ß√ºn h…ôl…ô x…ôrc yoxdur.",taskToday:"Bu g√ºn",taskMonth:"Ay",taskYear:"Uzunm√ºdd…ôtli",taskTodayTitle:"Bu g√ºnk√º tap≈üƒ±rƒ±qlar",taskMonthTitle:"Aylƒ±q tap≈üƒ±rƒ±qlar",taskYearTitle:"Uzunm√ºdd…ôtli tap≈üƒ±rƒ±qlar",addTask:"Tap≈üƒ±rƒ±q …ôlav…ô et",name:"Ad",notes:"Qeydl…ôr",deadline:"M√ºdd…ôt",emptyTasks:"Tap≈üƒ±rƒ±qlar siyahƒ±sƒ± bo≈üdur.",cancel:"L…ôƒüv et",save:"Saxla",add:"∆èlav…ô et",delete:"Sil",close:"Baƒüla",debtorName:"Borclu adƒ±/Ba≈ülƒ±q",totalAmount:"√úmumi m…ôbl…ôƒü",paidAmount:"√ñd…ônilmi≈ü m…ôbl…ôƒü",comment:"≈û…ôrh",addDebtPayment:"Borc √∂d…ôni≈üi …ôlav…ô et",paymentAmount:"√ñd…ôni≈ü m…ôbl…ôƒüi",paymentDayNum:"√ñd…ôni≈ü g√ºn√º (1-31)",deleteConfirm:"Bunu silm…ôk ist…ôdiyiniz…ô …ôminsiniz?",confirmYes:"B…ôli, sil",confirmNo:"Xeyr, l…ôƒüv et",paidStatus:"√ñd…ônilmi≈ü",unpaidStatus:"√ñd…ônilm…ômi≈ü",statusDone:"Tamamlanmƒ±≈ü",statusNotDone:"Tamamlanmamƒ±≈ü",statusSkipped:"Ke√ßilmi≈ü",editDebt:"Borcu redakt…ô et",editTemplate:"≈ûablonu redakt…ô et",editExpense:"X…ôrci redakt…ô et",editTask:"Tap≈üƒ±rƒ±ƒüƒ± redakt…ô et",addTaskForToday:"Bu g√ºn √º√ß√ºn tap≈üƒ±rƒ±q …ôlav…ô et",addTaskForMonth:"Ay √º√ß√ºn tap≈üƒ±rƒ±q …ôlav…ô et",addTaskForYear:"Uzunm√ºdd…ôtli tap≈üƒ±rƒ±q …ôlav…ô et",chartLabel:"X…ôrcl…ôr",debtRepayments:"Borc √∂d…ôni≈ül…ôri",recurringPayments:"Aylƒ±q √∂d…ôni≈ül…ôr",placeholderComment:"≈û…ôrh …ôlav…ô edin...",placeholderNewCategory:"Yeni kateqoriya",placeholderEmail:"Email √ºnvanƒ±nƒ±zƒ± daxil edin",placeholderPassword:"Parolunuzu daxil edin",placeholderBirthYear:"1990",taskCarriedFrom:"dan",addEvent:"T…ôdbir …ôlav…ô et",editEvent:"T…ôdbiri redakt…ô et",eventName:"T…ôdbir adƒ±",createTaskForEvent:"Bu t…ôdbir √º√ß√ºn tap≈üƒ±rƒ±q yaradƒ±n",weekdays:["B.E","√á.A","√á","C.A","C","≈û","B"],categoryEvent:"T…ôdbir",categoryBirthday:"Ad g√ºn√º",categoryMeeting:"G√∂r√º≈ü",categoryWedding:"Toy",birthdayName:"Ad g√ºn√º olan ≈ü…ôxsin adƒ±",birthYear:"Doƒüum ili (ist…ôy…ô baƒülƒ±)",meetingWith:"Kiminl…ô",time:"Vaxt (ist…ôy…ô baƒülƒ±)",place:"Yer (ist…ôy…ô baƒülƒ±)",weddingNames:"C√ºtl√ºy√ºn adlarƒ±",taskCongratulate:"T…ôbrik et",taskTurning:"ya≈üƒ±nƒ± tamamlayƒ±r",taskYearsOld:"ya≈üƒ±nda",taskMeetWith:"il…ô g√∂r√º≈ü",taskWeddingOf:"Toyu",authTitle:"Hesabƒ±nƒ±za daxil olun",login:"Daxil ol",register:"Qeydiyyat",logout:"√áƒ±xƒ±≈ü",loginWithGoogle:"Google il…ô daxil ol",authInvalidEmail:"Yanlƒ±≈ü email formatƒ±.",authEmailInUse:"Bu email artƒ±q istifad…ô olunur.",authWeakPassword:"Parol √ßox z…ôifdir. ∆èn azƒ± 6 simvol olmalƒ±dƒ±r.",authInvalidCredentials:"Yanlƒ±≈ü email v…ô ya parol.",authGenericError:"X…ôta ba≈ü verdi. Yenid…ôn c…ôhd edin.",firebaseConfigError:"Firebase Konfiqurasiya X…ôtasƒ±",firebaseConfigErrorDesc:"Z…ôhm…ôt olmasa, HTML faylƒ±nda firebaseConfig-i d√ºzg√ºn daxil etdiyiniz…ô …ômin olun.",manageCategories:"Kateqoriyalarƒ± idar…ô et",manageCategoriesTitle:"Kateqoriyalarƒ± idar…ô et",toastSuccess:"Uƒüurla yadda saxlanƒ±ldƒ±!",toastError:"Yadda≈ü x…ôtasƒ±!",toastDeleted:"Yazƒ± silindi.",errorGeneric:"X…ôta",errorDebtNotFound:"Bor√ß tapƒ±lmadƒ±",radioTitle:"AzerbaiJazz Radio",radioPlaying:"Oynayƒ±r",radioPaused:"Pauza",shoppingListTitle:"Alƒ±≈ü-veri≈ü siyahƒ±sƒ±",shoppingListCopy:"Kopyala",shoppingListQuantity:"Miqdar",shoppingListProduct:"M…ôhsul adƒ±",shoppingListPrice:"Qiym…ôt (AZN)",shoppingListAdd:"∆èlav…ô et",shoppingListTotal:"C…ômi",shoppingListQuantityColumn:"Miqdar",shoppingListProductColumn:"M…ôhsul",shoppingListPriceColumn:"Qiym…ôt",shoppingListSumColumn:"M…ôbl…ôƒü",shoppingListActionsColumn:"∆èm…ôliyyatlar",toPurchase:"ALINMALI",purchased:"ALINMI≈û",generalTotal:"√úMUMƒ∞ C∆èMƒ∞",newsBoxTitle:"X…ôb…ôrl…ôr",prev:"Geri",next:"ƒ∞r…ôli",quickActionsTitle:"S√ºr…ôtli …ôm…ôliyyatlar",weatherLocation:"Yer",newsCountry:"√ñlk…ô",newsCategory:"Kateqoriya",newsAllCountries:"B√ºt√ºn √∂lk…ôl…ôr",newsAzerbaijan:"Az…ôrbaycan",newsRussia:"Rusiya",newsUSA:"AB≈û",newsUK:"B√∂y√ºk Britaniya",newsGermany:"Almaniya",newsTurkey:"T√ºrkiy…ô",newsUkraine:"Ukrayna",newsFrance:"Fransa",newsItaly:"ƒ∞taliya",newsSpain:"ƒ∞spaniya",newsChina:"√áin",newsGeneral:"√úmumi",newsPolitics:"Siyas…ôt",newsEconomy:"ƒ∞qtisadiyyat",newsWar:"M√ºharib…ô",newsCulture:"M…ôd…ôniyy…ôt",weatherLoading:"Y√ºkl…ônir...",weatherError:"Y√ºkl…ôm…ô x…ôtasƒ±",weatherLocationError:"Geolokasiya …ôl√ßatan deyil",weatherLocationSuccess:"Geolokasiya …ôld…ô edildi",weatherUpdated:"Hava ≈ü…ôh…ôr √º√ß√ºn yenil…ôndi",newsNotFound:"X…ôb…ôr tapƒ±lmadƒ±",lastActivity:"Son f…ôaliyy…ôt",activityExpenseAdded:"X…ôrc …ôlav…ô edildi",activityTaskDone:"Tap≈üƒ±rƒ±q tamamlandƒ±",activityDebtUpdated:"Borc yenil…ôndi",months:["Yanvar","Fevral","Mart","Aprel","May","ƒ∞yun","ƒ∞yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthsShort:["Yan","Fev","Mar","Apr","May","ƒ∞yn","ƒ∞yl","Avq","Sen","Okt","Noy","Dek"],weekdaysFull:["Bazar ert…ôsi","√á…ôr≈ü…ônb…ô ax≈üamƒ±","√á…ôr≈ü…ônb…ô","C√ºm…ô ax≈üamƒ±","C√ºm…ô","≈û…ônb…ô","Bazar"],weatherCityPlaceholder:"Bakƒ±",weatherCitySearchPlaceholder:"≈û…ôh…ôr...",weatherGeoTitle:"Geolokasiya il…ô",weatherRefresh:"Hava m…ôlumatƒ±nƒ± yenil…ô",newsSource:"M…ônb…ô",newsPublished:"D…ôrc edilib",newsLoadingNews:"X…ôb…ôrl…ôr y√ºkl…ônir...",newsNoNews:"X…ôb…ôr tapƒ±lmadƒ±",newsAllCategories:"B√ºt√ºn kateqoriyalar",newsTechnology:"üíª Texnologiya",newsBusiness:"üíº Biznes",newsScience:"üî¨ Elm",newsSports:"‚öΩ ƒ∞dman",newsHealth:"üè• Saƒülamlƒ±q",newsEntertainment:"üé¨ ∆èyl…ônc…ô",newsSearchPlaceholder:"Axtarƒ±≈ü...",newsRefresh:"Yenil…ô",newsArticlesLoaded:"x…ôb…ôr y√ºkl…ôndi",newsError:"X…ôb…ôrl…ôrin y√ºkl…ônm…ôsind…ô x…ôta"}},O=localStorage.getItem("appLanguage")||"ru";function U(){const e=H[O];if(!e)return;z("[data-i18n]").forEach(t=>{if(t.closest("#lang-menu")||t.classList.contains("language-dropdown-item")||t.classList.contains("flag"))return;const n=t.dataset.i18n;e[n]&&(t.textContent=e[n])}),z("[data-placeholder-i18n]").forEach(t=>{const n=t.dataset.placeholderI18n;e[n]&&(t.placeholder=e[n])});const t=R("weather-city-input");t&&e.weatherCityPlaceholder&&(t.placeholder=e.weatherCityPlaceholder);const n=R("weather-search-input");n&&e.weatherCitySearchPlaceholder&&(n.placeholder=e.weatherCitySearchPlaceholder);const a=R("weather-location-btn");a&&e.weatherGeoTitle&&(a.title=e.weatherGeoTitle);const r=R("news-search");r&&e.newsSearchPlaceholder&&(r.placeholder=e.newsSearchPlaceholder);const s=R("news-category");s&&s.querySelectorAll("option[data-i18n-option]").forEach(t=>{const n=t.dataset.i18nOption;e[n]&&(t.textContent=e[n])});const o=R("news-refresh");o&&e.newsRefresh&&(o.title=e.newsRefresh)}const Y=(e,t)=>{H[e]&&0!==Object.keys(H[e]).length?(O=e,localStorage.setItem("appLanguage",e),document.documentElement.lang=e,U(),t&&t()):setTimeout(()=>{H[e]&&Object.keys(H[e]).length>0&&Y(e,t)},100)};let W="Baku";const G={"01d":'<circle cx="12" cy="12" r="5" stroke-width="2"/><line x1="12" y1="1" x2="12" y2="3" stroke-width="2"/><line x1="12" y1="21" x2="12" y2="23" stroke-width="2"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke-width="2"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke-width="2"/><line x1="1" y1="12" x2="3" y2="12" stroke-width="2"/><line x1="21" y1="12" x2="23" y2="12" stroke-width="2"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke-width="2"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke-width="2"/>',"01n":'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke-width="2"/>',"02d":'<circle cx="12" cy="12" r="4" stroke-width="2"/><path d="M20 20c-2-2-4-3-8-3s-6 1-8 3" stroke-width="2"/>',"02n":'<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke-width="2"/><path d="M20 20c-2-2-4-3-8-3s-6 1-8 3" stroke-width="2"/>',"03d":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/>',"03n":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/>',"04d":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><path d="M16 8a4 4 0 0 0-8 0" stroke-width="2"/>',"04n":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><path d="M16 8a4 4 0 0 0-8 0" stroke-width="2"/>',"09d":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><line x1="8" y1="19" x2="8" y2="21" stroke-width="2"/><line x1="12" y1="19" x2="12" y2="21" stroke-width="2"/><line x1="16" y1="19" x2="16" y2="21" stroke-width="2"/>',"09n":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><line x1="8" y1="19" x2="8" y2="21" stroke-width="2"/><line x1="12" y1="19" x2="12" y2="21" stroke-width="2"/><line x1="16" y1="19" x2="16" y2="21" stroke-width="2"/>',"10d":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><line x1="8" y1="19" x2="8" y2="21" stroke-width="2"/><line x1="12" y1="19" x2="12" y2="21" stroke-width="2"/>',"10n":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><line x1="8" y1="19" x2="8" y2="21" stroke-width="2"/><line x1="12" y1="19" x2="12" y2="21" stroke-width="2"/>',"11d":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><polyline points="13 13 11 16 13 16 11 19" stroke-width="2"/>',"11n":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><polyline points="13 13 11 16 13 16 11 19" stroke-width="2"/>',"13d":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><line x1="8" y1="19" x2="8.01" y2="19" stroke-width="3" stroke-linecap="round"/><line x1="12" y1="19" x2="12.01" y2="19" stroke-width="3" stroke-linecap="round"/><line x1="16" y1="19" x2="16.01" y2="19" stroke-width="3" stroke-linecap="round"/>',"13n":'<path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z" stroke-width="2"/><line x1="8" y1="19" x2="8.01" y2="19" stroke-width="3" stroke-linecap="round"/><line x1="12" y1="19" x2="12.01" y2="19" stroke-width="3" stroke-linecap="round"/><line x1="16" y1="19" x2="16.01" y2="19" stroke-width="3" stroke-linecap="round"/>',"50d":'<path d="M3 15h18M3 9h18M3 21h18" stroke-width="2" stroke-linecap="round"/>',"50n":'<path d="M3 15h18M3 9h18M3 21h18" stroke-width="2" stroke-linecap="round"/>'};function _(e="Baku"){return i(this,null,function*(){var t,n,a;try{W=e;const r=document.getElementById("weather-temp-new"),s=document.getElementById("weather-city-new"),o=document.getElementById("weather-desc-new"),l=document.getElementById("weather-datetime-new"),d=document.getElementById("weather-animated-icon");r&&(r.textContent="..."),s&&(s.textContent=e),o&&(o.textContent=H[O].weatherLoading||"Loading...");const i=yield fetch(`https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(e)}&appid=91b705287b193e8debf755a8ff4cb0c7&units=metric&lang=${O}`);if(!i.ok)throw new Error("Weather API error");const c=yield i.json(),u=Math.round(c.main.temp),m=(e=>{const t={ru:{"clear sky":"–Ø—Å–Ω–æ","few clouds":"–ú–∞–ª–æ–æ–±–ª–∞—á–Ω–æ","scattered clouds":"–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å","broken clouds":"–û–±–ª–∞—á–Ω–æ","overcast clouds":"–ü–∞—Å–º—É—Ä–Ω–æ","light rain":"–ù–µ–±–æ–ª—å—à–æ–π –¥–æ–∂–¥—å","moderate rain":"–£–º–µ—Ä–µ–Ω–Ω—ã–π –¥–æ–∂–¥—å","heavy rain":"–°–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å",thunderstorm:"–ì—Ä–æ–∑–∞",snow:"–°–Ω–µ–≥",mist:"–î—ã–º–∫–∞",fog:"–¢—É–º–∞–Ω"},en:{"clear sky":"Clear Sky","few clouds":"Few Clouds","scattered clouds":"Scattered Clouds","broken clouds":"Broken Clouds","overcast clouds":"Overcast","light rain":"Light Rain","moderate rain":"Moderate Rain","heavy rain":"Heavy Rain",thunderstorm:"Thunderstorm",snow:"Snow",mist:"Mist",fog:"Fog"},az:{"clear sky":"A√ßƒ±q","few clouds":"Az buludlu","scattered clouds":"Daƒüƒ±nƒ±q buludlar","broken clouds":"Buludlu","overcast clouds":"Tutqun","light rain":"Y√ºng√ºl yaƒüƒ±≈ü","moderate rain":"Orta yaƒüƒ±≈ü","heavy rain":"G√ºcl√º yaƒüƒ±≈ü",thunderstorm:"Ildƒ±rƒ±m",snow:"Qar",mist:"Duman",fog:"Sis"}};return(t[O]||t.en)[e.toLowerCase()]||e})(c.weather[0].description),y=c.weather[0].icon,p=c.timezone||0;r&&(r.textContent=u),s&&(s.textContent=c.name),o&&(o.textContent=m);const h=document.getElementById("weather-temp-compact"),g=document.getElementById("weather-city-compact");if(h&&(h.textContent=u+"¬∞C"),g&&(g.textContent=c.name,g.title=c.name),l){const e=new Date,r=e.getTime()+6e4*e.getTimezoneOffset(),s=new Date(r+1e3*p),o=s.getMonth(),d=s.getDate(),i=s.getDay(),c=s.getHours().toString().padStart(2,"0"),u=s.getMinutes().toString().padStart(2,"0"),m=(null==(n=null==(t=H[O])?void 0:t.monthsShort)?void 0:n[o])||"";let y="";if(null==(a=H[O])?void 0:a.weekdaysFull){const e=0===i?6:i-1;y=(H[O].weekdaysFull[e]||"").substring(0,3)}if(m&&y)l.textContent=`${y}, ${d} ${m} ‚Ä¢ ${c}:${u}`;else{const e="ru"===O?"ru-RU":"az"===O?"az-Latn-AZ":"en-US",t=s.toLocaleDateString(e,{weekday:"short",day:"numeric",month:"short"}),n=s.toLocaleTimeString(e,{hour:"2-digit",minute:"2-digit"});l.textContent=`${t} ‚Ä¢ ${n}`}}if(d){const e=G[y]||G["01d"];d.innerHTML=`<svg class="w-6 h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">${e}</svg>`}}catch(Et){A("Weather error:",Et);const t=document.getElementById("weather-temp-new"),n=document.getElementById("weather-desc-new");t&&(t.textContent="--"),n&&(n.textContent=H[O].weatherError||"Error loading weather");const a=document.getElementById("weather-temp-compact"),r=document.getElementById("weather-city-compact");a&&(a.textContent="--"),r&&(r.textContent="‚Äî"),P(H[O].weatherError||"Error loading weather","error")}})}let V=!1;const J=()=>{if(V)return;V=!0;const e=document.getElementById("weather-search-input"),t=document.getElementById("weather-search-btn"),n=document.getElementById("weather-location-btn-new"),a=document.getElementById("weather-refresh-btn-new"),r=()=>{var t;const n=null==(t=null==e?void 0:e.value)?void 0:t.trim();n&&_(n)};e&&e.addEventListener("keypress",e=>{"Enter"===e.key&&r()}),t&&t.addEventListener("click",r),a&&a.addEventListener("click",()=>{_(W)}),n&&navigator.geolocation&&n.addEventListener("click",()=>{navigator.geolocation.getCurrentPosition(t=>i(null,[t],function*({coords:t}){const n=yield(a=t.latitude,r=t.longitude,i(null,null,function*(){var e,t,n,s;try{const o=yield fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${a}&lon=${r}&zoom=10&addressdetails=1`),l=yield o.json();return(null==(e=l.address)?void 0:e.city)||(null==(t=l.address)?void 0:t.town)||(null==(n=l.address)?void 0:n.village)||(null==(s=l.address)?void 0:s.state)||"Baku"}catch(o){return"Baku"}}));var a,r;e&&(e.value=n),_(n),P(H[O].weatherLocationSuccess||"Location detected","success")}),()=>{P(H[O].weatherLocationError||"Location unavailable","error")})}),_("Baku")};let Q=[],Z=50,K="all",X="";const ee={ru:{all:["https://lenta.ru/rss","https://www.kommersant.ru/RSS/news.xml","https://ria.ru/export/rss2/index.xml","https://www.gazeta.ru/export/rss/lenta.xml"],technology:["https://habr.com/ru/rss/flows/develop/all/","https://habr.com/ru/rss/flows/infosecurity/all/","https://vc.ru/rss"],business:["https://www.kommersant.ru/RSS/economics.xml","https://www.vedomosti.ru/rss/news","https://www.rbc.ru/rss/frontpage.xml"],science:["https://nauka.tass.ru/rss","https://scientificrussia.ru/rss.xml"],sports:["https://www.championat.com/rss/news.xml","https://rsport.ria.ru/export/rss2/index.xml"],health:["https://www.takzdorovo.ru/rss/","https://www.aif.ru/rss/health.xml"],entertainment:["https://www.kinopoisk.ru/media/rss/rss_top_movies.xml","https://www.kp.ru/rss/incidents.xml"]},az:{all:["https://oxu.az/rss","https://apa.az/rss","https://azertag.az/rss/az","https://report.az/rss","https://news.milli.az/rss","https://lent.az/rss","https://trend.az/rss","https://modern.az/rss","https://publika.az/rss","https://qafqazinfo.az/rss"],technology:["https://oxu.az/rss","https://report.az/rss","https://modern.az/rss","https://trend.az/rss"],business:["https://marja.az/rss","https://fed.az/rss","https://banker.az/rss","https://biznesmedia.az/rss","https://trend.az/rss","https://report.az/rss"],science:["https://azertag.az/rss/az","https://report.az/rss","https://modern.az/rss"],sports:["https://sportinfo.az/rss","https://qol.az/rss","https://oxu.az/rss","https://report.az/rss"],health:["https://azertag.az/rss/az","https://report.az/rss","https://modern.az/rss"],entertainment:["https://baku.ws/rss","https://big.az/rss","https://yenicag.az/rss","https://sfera.az/rss","https://modern.az/rss"]},en:{all:["https://rss.cnn.com/rss/edition.rss","https://feeds.bbci.co.uk/news/world/rss.xml","https://www.theguardian.com/world/rss","https://rss.nytimes.com/services/xml/rss/nyt/World.xml"],technology:["https://feeds.feedburner.com/oreilly/radar","https://techcrunch.com/feed/","https://www.theverge.com/rss/index.xml"],business:["https://feeds.reuters.com/reuters/businessNews","https://www.bloomberg.com/feed/topics/economics"],science:["https://www.scientificamerican.com/rss/all/","https://feeds.nature.com/nature/rss/current"],sports:["https://www.espn.com/espn/rss/news","https://feeds.bbci.co.uk/sport/rss.xml"],health:["https://www.webmd.com/rss/rss.aspx?RSSSource=RSS_PUBLIC"],entertainment:["https://www.rollingstone.com/rss/","https://feeds.feedburner.com/oreilly/radar"]}},te=[e=>`https://api.allorigins.win/get?url=${encodeURIComponent(e)}`,e=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(e)}`,e=>`https://r.jina.ai/http/${e.replace(/^https?:\/\//,"")}`],ne=(e,t=12e3)=>{const n=new AbortController,a=setTimeout(()=>n.abort(),t);return fetch(e,{signal:n.signal,cache:"no-cache",mode:"cors"}).finally(()=>clearTimeout(a))};function ae(e,t=2){return i(this,null,function*(){let n=null;for(let s=0;s<te.length;s++){const o=te[s];for(let s=0;s<t;s++)try{const t=o(e),n=yield ne(t,12e3);if(!n.ok){if(400===n.status)throw new Error(`HTTP ${n.status} - Bad Request, trying next proxy`);throw new Error(`HTTP ${n.status}`)}const s=n.headers.get("content-type")||"";let l=null;if(s.includes("application/json")){const e=yield n.json();l=e.contents||e.content||("string"==typeof e?e:JSON.stringify(e))}else if(s.includes("text/xml")||s.includes("application/xml"))l=yield n.text();else{const e=n.clone();try{const e=yield n.json();l=e.contents||e.content||("string"==typeof e?e:JSON.stringify(e))}catch(a){try{l=yield e.text()}catch(r){throw new Error("Failed to parse response as JSON or text")}}}if(!l||"string"==typeof l&&0===l.trim().length)throw new Error("Empty response");const d=(new DOMParser).parseFromString(l,"text/xml");if(d.querySelector("parsererror"))throw new Error("XML parse error");const i=d.querySelectorAll("item"),c=[];if(0===i.length)throw new Error("No items found");if(i.forEach(t=>{var n,a,r,s,o;const l=(null==(n=t.querySelector("title"))?void 0:n.textContent)||"",d=(null==(a=t.querySelector("description"))?void 0:a.textContent)||"",i=(null==(r=t.querySelector("link"))?void 0:r.textContent)||"",u=(null==(s=t.querySelector("pubDate"))?void 0:s.textContent)||"";let m="";const y=t.querySelector("media\\:content, content");if(y&&y.getAttribute("url"))m=y.getAttribute("url");else{const e=d.match(/<img[^>]+src="([^"]+)"/);e&&(m=e[1])}c.push({title:l.replace(/<[^>]*>/g,"").trim(),desc:d.replace(/<[^>]*>/g,"").trim().substring(0,200),image:m,url:i,source:(null==(o=e.split("/")[2])?void 0:o.replace("www.",""))||"News",publishedAt:u,categories:[]})}),c.length>0)return c}catch(Et){n=Et,s<t-1&&(yield new Promise(e=>setTimeout(e,300)))}}return n&&l("RSS parse error after all retries:",n.message||n),[]})}function re(){return i(this,null,function*(){const e=document.getElementById("news-loading"),t=document.getElementById("news-results");e&&e.classList.remove("hidden"),t&&(t.innerHTML="");try{const e=K||"all";let n=((e,t="all")=>{const n=ee[e]||ee.en;return n[t]||n.all||[]})(O,e);0===n.length&&(n=[...ee.en[e]||ee.en.all]);const a=n.slice(0,2),r=[],s=a.map(e=>ae(e,1));if((yield Promise.allSettled(s)).forEach((e,t)=>{"fulfilled"===e.status&&e.value&&e.value.length>0?r.push(...e.value):e.reason&&l(`Failed to load news from source ${a[t]}:`,e.reason)}),0===r.length&&n.length>2)try{const e=yield ae(n[2],1);e&&e.length>0&&r.push(...e)}catch(Et){l(`Source ${n[2]} failed:`,Et)}if(0===r.length&&"en"!==O){const t=ee.en[e]||ee.en.all;try{const e=yield ae(t[0],1);e&&e.length>0&&r.push(...e)}catch(Et){l("Fallback source failed:",Et)}}if(X){const e=X.toLowerCase();Q=r.filter(t=>t.title.toLowerCase().includes(e)||t.desc.toLowerCase().includes(e))}else Q=r;Q.sort((e,t)=>{const n=new Date(e.publishedAt);return new Date(t.publishedAt)-n}),Z=10,se(),0===Q.length&&(t.innerHTML='\n                <div class="news-empty">\n                    <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                    </svg>\n                    <p data-i18n="newsNoNews">–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>\n                </div>\n            ',setTimeout(()=>{const e=t.querySelector('[data-i18n="newsNoNews"]');e&&H[O].newsNoNews&&(e.textContent=H[O].newsNoNews)},0))}catch(Et){A("News fetch error:",Et),t.innerHTML='\n            <div class="news-empty">\n                <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>\n                </svg>\n                <p data-i18n="newsError">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π</p>\n            </div>\n        ',setTimeout(()=>{const e=t.querySelector('[data-i18n="newsError"]');e&&H[O].newsError&&(e.textContent=H[O].newsError)},0),P(H[O].newsError||"Failed to load news","error")}finally{e&&e.classList.add("hidden")}})}const se=()=>{const e=document.getElementById("news-results");if(!e)return;if(0===Q.length)return e.innerHTML='\n            <div class="news-empty">\n                <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                </svg>\n                <p data-i18n="newsNoNews">–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>\n            </div>\n        ',void setTimeout(()=>{const t=e.querySelector('[data-i18n="newsNoNews"]');t&&H[O].newsNoNews&&(t.textContent=H[O].newsNoNews)},0);const t=Q.slice(0,Z);e.innerHTML=t.map(e=>{var t,n;const a=new Date(e.publishedAt),r=a.getMonth(),s=a.getDate(),o=a.getHours().toString().padStart(2,"0"),l=a.getMinutes().toString().padStart(2,"0"),d=(null==(n=null==(t=H[O])?void 0:t.monthsShort)?void 0:n[r])||"",i=d?`${s} ${d}, ${o}:${l}`:a.toLocaleDateString("ru"===O?"ru-RU":"az"===O?"az-Latn-AZ":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c=e.title.replace(/'/g,"&#39;").replace(/"/g,"&quot;"),u=(e.desc||"").substring(0,120).replace(/'/g,"&#39;").replace(/"/g,"&quot;");return`\n            <article class="news-item" onclick="window.open('${e.url}', '_blank', 'noopener,noreferrer')">\n                ${e.image?`\n                    <div class="news-item-image">\n                        <img src="${e.image}" alt="${c}" loading="lazy"\n                             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">\n                        <div class="news-item-image-placeholder" style="display:none;">\n                            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                            </svg>\n                        </div>\n                    </div>\n                `:'\n                    <div class="news-item-image-placeholder">\n                        <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"/>\n                        </svg>\n                    </div>\n                '}\n                <div class="news-item-content">\n                    <div class="news-item-header">\n                        <span class="news-item-source">${e.source}</span>\n                        <span class="news-item-date">${i}</span>\n                    </div>\n                    <h3 class="news-item-title">${c}</h3>\n                    ${e.desc?`<p class="news-item-desc">${u}${e.desc.length>120?"...":""}</p>`:""}\n                </div>\n                <div class="news-item-arrow">\n                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>\n                    </svg>\n                </div>\n            </article>\n        `}).join("");const n=document.getElementById("news-show-more");n&&(Z>=Q.length?n.classList.add("hidden"):n.classList.remove("hidden"))};let oe=!1;const le=()=>{if(oe)return;oe=!0;const e=document.getElementById("news-category"),t=document.getElementById("news-search"),n=document.getElementById("news-refresh");if(e&&e.addEventListener("change",e=>{K=e.target.value,re()}),t){let e;t.addEventListener("input",t=>{clearTimeout(e),e=setTimeout(()=>{X=t.target.value.trim(),re()},500)}),t.addEventListener("keypress",e=>{"Enter"===e.key&&(X=e.target.value.trim(),re())})}n&&n.addEventListener("click",()=>{Z=10,re()});const a=document.getElementById("news-show-more");a&&a.addEventListener("click",()=>{Z+=10,se()}),re()};let de,ie,ce,ue,me,ye,pe,he,ge,be,ve=null,fe=(new Date).toISOString().slice(0,7),we=fe,ke=new Date,xe=null,Ee=[],Se=[],Le=[],Te={},Ie=[],Be=[],Ce=null,De=[],$e=[],Ae=[],Me=[],qe=localStorage.getItem("currency")||"AZN";const Pe=e=>{"number"!=typeof e&&(e=0);const t="USD"===qe?"$":"AZN";return`${("USD"===qe?e/1.7:e).toFixed(2)} ${t}`},ze=(e,t={})=>{var n,a;if(!e)return"";let r;const s=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(e);if(s){const e=Number(s[1]),t=Number(s[2])-1,n=Number(s[3]);r=new Date(e,t,n,12,0,0,0)}else r=new Date(e);if("ru"===O){const e=void 0!==t.year,n=d({day:"numeric",month:t.month||"long"},e?{year:"numeric"}:{});return r.toLocaleDateString("ru-RU",n)}if((null==(n=H[O])?void 0:n.months)&&void 0===t.year&&"long"!==t.month){const e=r.getMonth();return`${r.getDate()} ${H[O].months[e]}`}if((null==(a=H[O])?void 0:a.months)&&void 0!==t.year){const e=r.getMonth(),t=r.getDate(),n=r.getFullYear();return`${t} ${H[O].months[e]} ${n}`}const o="az"===O?"az-Latn-AZ":"en-US";return r.toLocaleDateString(o,d(d({},{year:"numeric",month:"long",day:"numeric"}),t))},Ne=e=>{var t;const[n,a]=e.split("-"),r=parseInt(a,10)-1;if((null==(t=H[O])?void 0:t.months)&&H[O].months[r])return`${H[O].months[r]} ${n}`;const s=new Date(n,r,1),o="ru"===O?"ru-RU":"az"===O?"az-Latn-AZ":"en-US";return s.toLocaleString(o,{month:"long",year:"numeric"})},Re=()=>{const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},je=e=>`\n    <div class="flex flex-col items-center justify-center p-12 bg-gray-50 rounded-lg dark:bg-gray-800">\n        <svg class="w-16 h-16 text-gray-300 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">\n            <path stroke-linecap="round" stroke-linejoin="round" d="M21 7.5l-9-5.25L3 7.5m18 0l-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9" />\n        </svg>\n        <p class="text-gray-500 font-medium dark:text-gray-400">${H[O][e]}</p>\n    </div>\n`,Fe=(e,t,n)=>{e&&e.classList.add("hidden"),t&&(H[O][n],t.innerHTML=je(n),t.classList.remove("hidden"))},He=(e,t)=>{e&&e.classList.remove("hidden"),t&&t.classList.add("hidden")};function Oe(){const e=new Date,t=new Date(e);t.setHours(24,0,0,0);const n=t.getTime()-e.getTime();setTimeout(()=>i(null,null,function*(){yield Ue(),Oe()}),Math.max(1e3,n)),document.addEventListener("visibilitychange",()=>i(null,null,function*(){if(!document.hidden){const e=Re(),t=document.getElementById("today-date");t&&t.textContent!==ze(e,{year:void 0})&&(yield Ue())}}))}function Ue(){return i(this,null,function*(){fe=(new Date).toISOString().slice(0,7),Qe(),_e(),Ge();const e=Re();yield ot(e)})}const Ye=()=>{if(!ve)return;const e=g(s,"users",ve);de=I(e,"debts"),ie=I(e,"recurringExpenses"),he=I(e,"categories"),me=I(e,"dailyTasks"),be=I(e,"monthlyData"),pe=I(e,"yearlyTasks"),ge=I(e,"calendarEvents");const t=g(be,we);ce=I(t,"recurringExpenseStatuses"),ue=I(t,"expenses"),ye=I(t,"tasks"),Ge()},We=(e,t,n="query")=>{try{const a=D(e,e=>{t(e)},a=>{A(`onSnapshot error for ${n}:`,a),L(e).then(e=>{t(e)}).catch(e=>A(`getDocs fallback error for ${n}:`,e))});Ee.push(a)}catch(Et){A(`subscribeQuery setup error for ${n}:`,Et)}},Ge=()=>{if(!ve||!fe||!we)return;_e();const e=g(s,"users",ve),t=g(I(e,"monthlyData"),we);ce=I(t,"recurringExpenseStatuses"),ue=I(t,"expenses"),ye=I(t,"tasks"),We(T(de),e=>{Se=e.docs,Ke(Se),at()},"debts"),We(T(ue),e=>{Ie=e.docs,et(Ie),at()},"expenses"),We(T(ie),e=>{Le=e.docs.map(e=>d({id:e.id},e.data())),Xe(),at()},"recurringTemplates"),We(T(ce),e=>{Te={},e.docs.forEach(e=>{Te[e.id]=e.data().status}),Xe(),at()},"recurringStatuses"),We(T(be),e=>{const t=e.docs.map(e=>e.id);t.includes(fe)||t.push(fe),t.sort().reverse(),Me=t,Ze(t)},"months"),We(T(he),e=>{const t=e.docs.map(e=>d({id:e.id},e.data()));!function(e){const t=document.getElementById("expense-categories-list");t&&(t.innerHTML=e.filter(e=>e.data().lang===O).map(e=>`<option value="${e.data().name}"></option>`).join(""))}(e.docs),kt(t)},"categories");const n=localStorage.getItem(`selectedDailyDate_${ve}`)||Ce||Re();Ce=n,function(e){const t=T(me,B("date","==",e));We(t,e=>{Be=e.docs.map(e=>d({id:e.id},e.data())),function(e){const t=document.getElementById("daily-tasks-table-wrapper"),n=document.getElementById("daily-tasks-table"),a=document.getElementById("daily-tasks-empty");if(0===e.length)return t&&t.classList.add("hidden"),void(a&&(a.innerHTML=je("emptyTasks"),a.classList.remove("hidden")));t&&t.classList.remove("hidden"),a&&a.classList.add("hidden"),n&&(n.innerHTML=e.map(e=>{var t;const n=e,a=n.status,r=(null==(t=H[O])?void 0:t.taskCarriedFrom)||"—Å",s=n.first_carry_date||n.originalDate?` (${r} ${ze(n.first_carry_date||n.originalDate)})`:"";return`\n                <tr class="md:border-b-0 ${n.carriedOver?"bg-blue-50 dark:bg-blue-900/20":""} dark:border-gray-700">\n                    <td data-label="${H[O].name}" class="${a===H.ru.statusDone?"line-through text-gray-500":""}">\n                        ${n.name}${s}\n                    </td>\n                    <td data-label="${H[O].date}">${ze(n.date,{year:void 0})}</td>\n                    <td data-label="${H[O].status}">${tt(n.id,a,"dailyTasks")}</td>\n                    <td data-label="${H[O].notes}">\n                        <input type="text" class="editable-task-notes bg-transparent w-full p-1 border-b border-transparent focus:border-blue-500 outline-none" data-id="${n.id}" data-col="dailyTasks" value="${n.notes||""}" placeholder="${H[O].placeholderComment}">\n                    </td>\n                    <td data-label="${H[O].actions}" class="flex gap-2">\n                        <button data-id="${n.id}" class="edit-daily-task-btn text-blue-600 hover:text-blue-800">‚úèÔ∏è</button>\n                        <button data-id="${n.id}" class="delete-daily-task-btn text-red-600 hover:text-red-800">üóëÔ∏è</button>\n                    </td>\n                </tr>`}).join(""))}(Be),at()},"dailyTasks")}(n),We(T(ye,B("month","==",we)),e=>{De=e.docs.map(e=>d({id:e.id},e.data())),function(e){const t=document.getElementById("monthly-tasks-table-wrapper"),n=document.getElementById("monthly-tasks-table"),a=document.getElementById("monthly-tasks-empty");if(0===e.length)return t&&t.classList.add("hidden"),void(a&&(a.innerHTML=je("emptyTasks"),a.classList.remove("hidden")));t&&t.classList.remove("hidden"),a&&a.classList.add("hidden");const r=[...e].sort((e,t)=>{const n=e.deadline||"",a=t.deadline||"";return n.localeCompare?n.localeCompare(a):n>a?1:-1});n&&(n.innerHTML=r.map(e=>{const t=e,n=e.id,a=t.status;return`\n                <tr class="md:border-b-0 ${t.carriedOver?"bg-yellow-50 dark:bg-yellow-900/20":""} dark:border-gray-700">\n                    <td data-label="${H[O].name}" class="${a===H.ru.statusDone?"line-through text-gray-500":""}">${t.name}</td>\n                    <td data-label="${H[O].deadline}">${ze(t.deadline)}</td>\n                    <td data-label="${H[O].status}">${tt(n,a,"monthlyTasks")}</td>\n                    <td data-label="${H[O].actions}" class="flex gap-2">\n                        ${t.recurringExpenseId||t.fromCalendar?"":`<button data-id="${n}" class="edit-monthly-task-btn text-blue-600 hover:text-blue-800">‚úèÔ∏è</button>\n                             <button data-id="${n}" class="delete-monthly-task-btn text-red-600 hover:text-red-800">üóëÔ∏è</button>`}\n                    </td>\n                </tr>`}).join(""))}(De),at()},"monthlyTasks"),We(T(pe,B("year","==",ke.getFullYear())),e=>{$e=e.docs.map(e=>d({id:e.id},e.data())),function(e){const t=document.getElementById("yearly-tasks-table-wrapper"),n=document.getElementById("yearly-tasks-table"),a=document.getElementById("yearly-tasks-empty");if(0===e.length)return t&&t.classList.add("hidden"),void(a&&(a.innerHTML=je("emptyTasks"),a.classList.remove("hidden")));t&&t.classList.remove("hidden"),a&&a.classList.add("hidden"),n&&(n.innerHTML=e.map(e=>{const t=e,n=e.id,a=t.status;return`\n                <tr class="md:border-b-0 dark:border-gray-700">\n                    <td data-label="${H[O].name}" class="${a===H.ru.statusDone?"line-through text-gray-500":""}">${t.name}</td>\n                    <td data-label="${H[O].deadline}">${ze(t.deadline,{year:"numeric"})}</td>\n                    <td data-label="${H[O].status}">${tt(n,a,"yearlyTasks")}</td>\n                    <td data-label="${H[O].notes}">\n                        <input type="text" class="editable-task-notes bg-transparent w-full p-1 border-b border-transparent focus:border-blue-500 outline-none" data-id="${n}" data-col="yearlyTasks" value="${t.notes||""}" placeholder="${H[O].placeholderComment}">\n                    </td>\n                    <td data-label="${H[O].actions}" class="flex gap-2">\n                        <button data-id="${n}" class="edit-yearly-task-btn text-blue-600 hover:text-blue-800">‚úèÔ∏è</button>\n                        <button data-id="${n}" class="delete-yearly-task-btn text-red-600 hover:text-red-800">üóëÔ∏è</button>\n                    </td>\n                </tr>`}).join(""))}($e),at()},"yearlyTasks"),We(T(ge),e=>{Ae=e.docs.map(e=>d({id:e.id},e.data())),nt()},"calendarEvents")},_e=()=>{Ee.forEach(e=>e()),Ee=[]},Ve=()=>{const e=document.getElementById("auth-container"),t=document.getElementById("app"),n=document.getElementById("loading-overlay");n&&n.classList.add("hidden"),e&&e.classList.add("hidden"),t&&(t.classList.remove("hidden"),t.classList.remove("opacity-0"),t.style.opacity="1",window.dispatchEvent(new Event("resize"))),Qe()},Je=()=>{const e=document.getElementById("auth-container"),t=document.getElementById("app"),n=document.getElementById("loading-overlay");n&&n.classList.add("hidden"),e&&e.classList.remove("hidden"),t&&t.classList.add("hidden")};function Qe(){const e=Ne(we);z(".current-month-name").forEach(t=>{t&&(t.textContent=e)});const t=document.getElementById("recurring-month-name"),n=document.getElementById("today-date");t&&(t.textContent=e),n&&(n.textContent=ze(Re(),{year:void 0}));const a=document.getElementById("daily-date-filter");a&&(a.value=Ce||Re())}const Ze=e=>{const t=document.getElementById("month-selector");t&&(t.innerHTML=e.map(e=>{const t=Ne(e);return`<option value="${e}" ${e===we?"selected":""}>${t}</option>`}).join(""))},Ke=e=>{if(!ve)return;const t=document.getElementById("debts-table-wrapper"),n=document.getElementById("debts-table"),a=document.getElementById("debts-empty");if(e&&0!==e.length){if(He(t,a),n)try{n.innerHTML=e.map(e=>{var t,n,a,r,s,o,l,d,i,c,u;const m=e.data();if(!m)return"";const y=e.id,p=(m.totalAmount||0)-(m.paidAmount||0),h=p<=0?"text-green-600":m.paidAmount>0?"text-yellow-600":"text-red-600",g=m.lastPaymentDate?ze(m.lastPaymentDate.toDate().toISOString().split("T")[0]):"‚Äî";return`\n                <tr class="border-b hover:bg-gray-50 md:border-b-0 dark:hover:bg-gray-700 dark:border-gray-700">\n                    <td data-label="${(null==(t=H[O])?void 0:t.debtName)||"Debt Name"}" class="font-medium">${m.name||"‚Äî"}</td>\n                    <td data-label="${(null==(n=H[O])?void 0:n.amount)||"Amount"}">${Pe(m.totalAmount)}</td>\n                    <td data-label="${(null==(a=H[O])?void 0:a.paid)||"Paid"}">${Pe(m.paidAmount)}</td>\n                    <td data-label="${(null==(r=H[O])?void 0:r.remaining)||"Remaining"}" class="font-bold ${h}">${Pe(p)}</td>\n                    <td data-label="${(null==(s=H[O])?void 0:s.lastPaymentDate)||"Last Payment"}">${g}</td>\n                    <td data-label="${(null==(o=H[O])?void 0:o.comments)||"Comments"}">\n                        <input type="text" class="editable-debt-comment bg-transparent w-full p-1 border-b border-transparent focus:border-blue-500 outline-none" data-id="${y}" value="${m.comment||""}" placeholder="${(null==(l=H[O])?void 0:l.placeholderComment)||"Comment"}">\n                    </td>\n                    <td data-label="${(null==(d=H[O])?void 0:d.actions)||"Actions"}" class="flex gap-2">\n                        <button data-id="${y}" class="add-debt-payment-btn text-green-600 hover:text-green-800" title="${(null==(i=H[O])?void 0:i.addDebtPayment)||"Add Payment"}">‚ûï</button>\n                        <button data-id="${y}" class="edit-debt-btn text-blue-600 hover:text-blue-800" title="${(null==(c=H[O])?void 0:c.editDebt)||"Edit"}">‚úèÔ∏è</button>\n                        <button data-id="${y}" class="delete-debt-btn text-red-600 hover:text-red-800" title="${(null==(u=H[O])?void 0:u.delete)||"Delete"}">üóëÔ∏è</button>\n                    </td>\n                </tr>`}).join("")}catch(Et){A("Error rendering debts:",Et),Fe(t,a,"errorLoadingData")}}else Fe(t,a,"emptyDebts")},Xe=()=>{if(!ve||!we)return;const e=document.getElementById("recurring-expenses-table-wrapper"),t=document.getElementById("recurring-expenses-table"),n=document.getElementById("recurring-expenses-empty");if(!Le||0===Le.length)return void Fe(e,n,"emptyRecurring");He(e,n);const a=new Date(`${Re()}T00:00:00`).getDate();if(t)try{t.innerHTML=Le.map(e=>{var t,n,r,s,o,l,d,i;if(!e)return"";const c=Te[e.id]||H.ru.unpaidStatus,u=c===H.ru.unpaidStatus&&e.dueDay<a&&we===fe,m=c===H.ru.paidStatus;return`\n                <tr class="border-b hover:bg-gray-50 ${u?"bg-red-50 dark:bg-red-900/20":""} md:border-b-0 dark:hover:bg-gray-700 dark:border-gray-700">\n                    <td data-label="${(null==(t=H[O])?void 0:t.name)||"Name"}" class="font-medium">${e.name||"‚Äî"}</td>\n                    <td data-label="${(null==(n=H[O])?void 0:n.amount)||"Amount"}">${Pe(e.amount)}</td>\n                    <td data-label="${(null==(r=H[O])?void 0:r.paymentDay)||"Day"}">${e.dueDay||"‚Äî"}</td>\n                    <td data-label="${(null==(s=H[O])?void 0:s.status)||"Status"}">\n                        <select data-id="${e.id}" class="recurring-status-select p-1 rounded-md border-0 ring-1 ring-inset ring-gray-300 ${m?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}">\n                            <option value="${H.ru.unpaidStatus}" ${m?"":"selected"}>${(null==(o=H[O])?void 0:o.unpaidStatus)||"Unpaid"}</option>\n                            <option value="${H.ru.paidStatus}" ${m?"selected":""}>${(null==(l=H[O])?void 0:l.paidStatus)||"Paid"}</option>\n                        </select>\n                    </td>\n                    <td data-label="${(null==(d=H[O])?void 0:d.details)||"Details"}">${e.details||"‚Äî"}</td>\n                    <td data-label="${(null==(i=H[O])?void 0:i.templateActions)||"Actions"}" class="flex gap-2">\n                        <button data-id="${e.id}" class="edit-recurring-expense-btn text-blue-600 hover:text-blue-800">‚úèÔ∏è</button>\n                        <button data-id="${e.id}" class="delete-recurring-expense-btn text-red-600 hover:text-red-800">üóëÔ∏è</button>\n                    </td>\n                </tr>`}).join("")}catch(Et){A("Error rendering recurring expenses:",Et),Fe(e,n,"errorLoadingData")}},et=e=>{if(!ve||!we)return;const t=document.getElementById("expenses-table-wrapper"),n=document.getElementById("expenses-table"),a=document.getElementById("expenses-empty");if(!e||0===e.length)return void Fe(t,a,"emptyExpenses");He(t,a);const r=[...e].sort((e,t)=>{var n,a;const r=(null==(n=e.data())?void 0:n.date)||"",s=(null==(a=t.data())?void 0:a.date)||"";return s.localeCompare?s.localeCompare(r):s>r?-1:1});if(n)try{n.innerHTML=r.map(e=>{var t,n,a,r,s,o,l;const d=e.data();if(!d)return"";const i=e.id,c=d.recurringExpenseId||d.debtPaymentId?"":`<button data-id="${i}" class="edit-expense-btn text-blue-600 hover:text-blue-800" title="${(null==(t=H[O])?void 0:t.editExpense)||"Edit"}">‚úèÔ∏è</button>\n                 <button data-id="${i}" class="delete-expense-btn text-red-600 hover:text-red-800" title="${(null==(n=H[O])?void 0:n.delete)||"Delete"}">üóëÔ∏è</button>`;return`\n                <tr class="border-b hover:bg-gray-50 md:border-b-0 dark:hover:bg-gray-700 dark:border-gray-700">\n                    <td data-label="${(null==(a=H[O])?void 0:a.name)||"Name"}" class="font-medium">${d.name||"‚Äî"}</td>\n                    <td data-label="${(null==(r=H[O])?void 0:r.category)||"Category"}">${d.category||"‚Äî"}</td>\n                    <td data-label="${(null==(s=H[O])?void 0:s.amount)||"Amount"}">${Pe(d.amount)}</td>\n                    <td data-label="${(null==(o=H[O])?void 0:o.date)||"Date"}">${ze(d.date)}</td>\n                    <td data-label="${(null==(l=H[O])?void 0:l.actions)||"Actions"}" class="flex gap-2">${c}</td>\n                </tr>`}).join("")}catch(Et){A("Error rendering expenses:",Et),Fe(t,a,"errorLoadingData")}},tt=(e,t,n)=>{var a;const r=H[O],s=H.ru,o={[s.statusNotDone]:{text:r.statusNotDone,class:"bg-yellow-100 text-yellow-800"},[s.statusDone]:{text:r.statusDone,class:"bg-green-100 text-green-800"},[s.statusSkipped]:{text:r.statusSkipped,class:"bg-gray-100 text-gray-800"}},l=t||s.statusNotDone;let d=`<select data-id="${e}" data-col="${n}" class="task-status-select p-1 rounded-md border-0 ring-1 ring-inset ring-gray-300 ${(null==(a=o[l])?void 0:a.class)||""}">`;for(const[i,{text:c}]of Object.entries(o))d+=`<option value="${i}" ${l===i?"selected":""}>${c}</option>`;return d+="</select>",d};function nt(){var e,t,n,a;const r=document.getElementById("calendar-grid"),s=document.getElementById("calendar-month-year"),o=document.getElementById("calendar-weekdays");if(!r)return;if(!s)return;if(!o)return;if(!ke)return;const l=ke.getMonth(),d=ke.getFullYear();if(!H||!H[O])return;const i=(null==(t=null==(e=H[O])?void 0:e.months)?void 0:t[l])||"",c=null==(a=null==(n=H[O])?void 0:n.months)?void 0:a[l];s.textContent=c?`${c} ${d}`:i?`${i} ${d}`:ke.toLocaleString("ru"===O?"ru-RU":"az"===O?"az-Latn-AZ":"en-US",{month:"long",year:"numeric"}),o.innerHTML=H[O].weekdays.map(e=>`<div>${e}</div>`).join("");const u=new Date(d,l,1).getDay(),m=new Date(d,l+1,0).getDate(),y=0===u?6:u-1;r.innerHTML="";for(let g=0;g<y;g++)r.insertAdjacentHTML("beforeend","<div></div>");const p=Re();try{for(let e=1;e<=m;e++){const t=`${d}-${String(l+1).padStart(2,"0")}-${String(e).padStart(2,"0")}`,n=t.substring(5),a=t===p;let s=[];try{s=Ae.filter(e=>!(!e||!e.date)&&("birthday"===e.category?e.date.substring(5)===n:e.date===t))}catch(h){}const o=document.createElement("div");o.className="calendar-day border-2 p-2 flex flex-col cursor-pointer transition-all "+(a?"calendar-day-today":"border-gray-200 dark:border-gray-700"),o.dataset.date=t,o.innerHTML=`\n                 <div class="calendar-day-number self-end text-center rounded-full flex items-center justify-center w-8 h-8 font-semibold transition-all" \n                      style="${a?"background: var(--accent-color); color: white; box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);":""}">\n                     ${e}\n                 </div>\n                 <div class="events mt-1 space-y-1 overflow-y-auto text-xs">\n                     ${s.map(e=>`\n                         <div data-event-id="${e.id}" class="event-item p-1 rounded truncate text-xs font-medium" \n                              style="background: linear-gradient(135deg, rgba(212, 175, 55, 0.2) 0%, rgba(212, 175, 55, 0.1) 100%); color: var(--text-primary);">\n                             ${e.name}\n                         </div>\n                     `).join("")}\n                 </div>\n             `,r.appendChild(o)}}catch(Et){}}function at(){if(!ve||!fe||!we)return;const e=document.getElementById("dashboard-content"),t=document.getElementById("dashboard-loading"),n=document.getElementById("loading-overlay"),a=document.getElementById("app");a&&a.classList.remove("opacity-0"),n&&n.classList.add("hidden"),t&&t.classList.add("hidden"),e&&e.classList.remove("hidden");const r=Le.filter(e=>Te[e.id]===H.ru.paidStatus).reduce((e,t)=>e+(t.amount||0),0),s=Le.filter(e=>(Te[e.id]||H.ru.unpaidStatus)===H.ru.unpaidStatus).reduce((e,t)=>e+(t.amount||0),0),o=Ie.reduce((e,t)=>e+(t.data().amount||0),0),l=Se.reduce((e,t)=>e+((t.data().totalAmount||0)-(t.data().paidAmount||0)),0),d=document.getElementById("total-recurring-paid"),i=document.getElementById("total-recurring-remaining"),c=document.getElementById("total-monthly-outflow"),u=document.getElementById("total-debt-remaining"),m=document.getElementById("tasks-remaining-month"),y=document.getElementById("tasks-remaining-year");d&&(d.textContent=Pe(r)),i&&(i.textContent=Pe(s)),c&&(c.textContent=Pe(o)),u&&(u.textContent=Pe(l)),m&&(m.textContent=De.filter(e=>e.status===H.ru.statusNotDone).length),y&&(y.textContent=$e.filter(e=>e.status===H.ru.statusNotDone).length),function(){var e;const t=document.getElementById("expenses-chart");if(t&&"undefined"!=typeof Chart)try{const n={};Ie.forEach(e=>{const t=e.data();n[t.category]=(n[t.category]||0)+t.amount});const a=Object.entries(n).sort(([,e],[,t])=>t-e).slice(0,7),r=a.map(e=>e[0]),s=a.map(e=>e[1]);if(xe&&"function"==typeof xe.destroy)try{xe.destroy()}catch(Et){$("Error destroying chart:",Et)}const o=t.getContext("2d");if(!o)return void $("Cannot get 2d context from chart element");const l=getComputedStyle(document.documentElement),d=l.getPropertyValue("--primary-rgb").trim()||"99, 102, 241",i=l.getPropertyValue("--gold-rgb").trim()||"212, 175, 55",c=l.getPropertyValue("font-family")||"'Poppins', sans-serif";xe=new Chart(o,{type:"bar",data:{labels:r,datasets:[{label:`${(null==(e=H[O])?void 0:e.chartLabel)||"Expenses"}`,data:s.map(e=>"USD"===qe?e/1.7:e),backgroundColor:[`rgba(${d}, 0.7)`,"rgba(239, 68, 68, 0.7)",`rgba(${i}, 0.7)`,"rgba(16, 185, 129, 0.7)","rgba(139, 92, 246, 0.7)","rgba(236, 72, 153, 0.7)","rgba(107, 114, 128, 0.7)"],borderColor:[`rgba(${d}, 1)`,"rgba(239, 68, 68, 1)",`rgba(${i}, 1)`,"rgba(16, 185, 129, 1)","rgba(139, 92, 246, 1)","rgba(236, 72, 153, 1)","rgba(107, 114, 128, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,font:{family:c,size:12,weight:"500"},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}},plugins:{legend:{display:!0,position:"top",labels:{usePointStyle:!0,pointStyle:"circle"}}}}})}catch(n){A("Error rendering chart:",n)}}(),function(){const e=document.getElementById("recent-activity");if(!e)return;const t=[],n=new Date(new Date);n.setDate(n.getDate()-7),Ie.forEach(e=>{const a=e.data(),r=new Date(a.date+"T00:00:00");r>=n&&t.push({type:"expense",text:`${H[O].activityExpenseAdded||"–†–∞—Å—Ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω"}: ${a.name||a.category} - ${Pe(a.amount)}`,date:r,color:"green-500"})}),[...De,...$e,...Be].forEach(e=>{if(e.status===H.ru.statusDone){const a=e.updatedAt?e.updatedAt.toDate():new Date;a>=n&&t.push({type:"task",text:`${H[O].activityTaskDone||"–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞"}: ${e.name}`,date:a,color:"blue-500"})}}),Se.forEach(e=>{const a=e.data();if(a.lastPaymentDate){const e=a.lastPaymentDate.toDate();if(e>=n){const n=(a.totalAmount||0)-(a.paidAmount||0);t.push({type:"debt",text:`${H[O].activityDebtUpdated||"–î–æ–ª–≥ –æ–±–Ω–æ–≤–ª–µ–Ω"}: ${a.name} - ${Pe(n)} ${H[O].remaining||"–æ—Å—Ç–∞–ª–æ—Å—å"}`,date:e,color:"purple-500"})}}}),t.sort((e,t)=>t.date-e.date);const a=t.slice(0,5);e.innerHTML="",0===a.length?e.innerHTML=`\n            <div class="flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400">\n                <span>${H[O].noRecentActivity||"–ù–µ—Ç –Ω–µ–¥–∞–≤–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"}</span>\n            </div>\n        `:a.forEach(t=>{const n=document.createElement("div");n.className="flex items-center gap-2 text-sm";const a="green-500"===t.color?"bg-green-500":"blue-500"===t.color?"bg-blue-500":"bg-purple-500";n.innerHTML=`\n                <div class="w-2 h-2 ${a} rounded-full"></div>\n                <span class="text-gray-700 dark:text-gray-300">${t.text}</span>\n            `,e.appendChild(n)})}(),(()=>{var e;const t=document.getElementById("dashboard-tasks-list-top");if(!t)return;const n=Be.filter(e=>e.status!==H.ru.statusDone);0!==n.length?t.innerHTML=n.slice(0,5).map(e=>`\n        <div class="flex items-center justify-between p-1 bg-gray-50 dark:bg-gray-700/50 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer" onclick="document.querySelector('[data-tab=\\'tasks\\']').click()">\n            <span class="truncate pr-2 text-xs">${e.name}</span>\n            <span class="text-[9px] px-1 bg-blue-100 text-blue-800 rounded dark:bg-blue-900 dark:text-blue-200">Today</span>\n        </div>\n    `).join(""):t.innerHTML=`<div class="text-gray-400 text-center py-1 text-[10px]">${(null==(e=H[O])?void 0:e.noTasks)||"No tasks"}</div>`})(),st()}let rt;function st(){const e=document.getElementById("dash-time"),t=document.getElementById("dash-date");if(!e||!t)return;rt&&clearInterval(rt);const n=()=>{const n=new Date;e.textContent=n.toLocaleTimeString("ru"===O?"ru-RU":"az"===O?"az-Latn-AZ":"en-US",{hour:"2-digit",minute:"2-digit"}),t.textContent=n.toLocaleDateString("ru"===O?"ru-RU":"az"===O?"az-Latn-AZ":"en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})};n(),rt=setInterval(n,1e3)}function ot(e){return i(this,null,function*(){if(!ve)return;const t=new Date(new Date(`${e}T00:00:00`));t.setDate(t.getDate()-1),t.toISOString().split("T")[0];const n=`lastDailyCheck_${ve}`;if(localStorage.getItem(n)===e)return;const a=T(me,B("status","==",H.ru.statusNotDone)),r=yield L(a),o=C(s),l=[];r.forEach(t=>{const n=t.data(),a=n.date;a&&a<e&&!n.carriedOver&&l.push({original:n})}),l.forEach(({original:t})=>{const n=g(me);o.set(n,{name:t.name,notes:t.notes||"",status:H.ru.statusNotDone,date:e,carriedOver:!0,originalDate:t.originalDate||t.date,first_carry_date:t.first_carry_date||t.date,updatedAt:E.now()})}),l.length>0&&(yield o.commit()),localStorage.setItem(n,e)})}let lt=!1,dt=null,it=null;function ct(){const e=z(".tab-button"),t=z(".task-tab-button");if(0===e.length)return void setTimeout(ct,100);lt&&(dt&&document.removeEventListener("click",dt),it&&window.removeEventListener("hashchange",it));const n=e=>{if(!e||!e.dataset||!e.dataset.tab)return;const t=e.dataset.tab;try{location.hash!==`#${t}`&&(location.hash=`#${t}`)}catch(Et){}z(".tab-button").forEach(e=>e.classList.remove("tab-active")),z('.tab-button[data-tab="'+t+'"]').forEach(e=>e.classList.add("tab-active")),z(".page-content").forEach(e=>{e.classList.add("hidden"),e.style.display="none"});const n=document.getElementById(`${t}-page`);if(n)n.classList.remove("hidden"),n.style.display="block","calendar"===t&&nt();else{const e=document.getElementById("dashboard-page");e&&(e.classList.remove("hidden"),e.style.display="block")}};dt=e=>{let t=e.target;for(;t&&t!==document.body;){if(t.classList&&t.classList.contains("tab-button"))return e.preventDefault(),e.stopPropagation(),void n(t);t=t.parentElement}},document.addEventListener("click",dt,!0);const a=()=>{const e=(location.hash||"").replace("#","");if(e){const t=document.querySelector(`.tab-button[data-tab="${e}"]`);if(t)return void n(t)}if(!document.querySelector(".page-content:not(.hidden)")){const e=document.querySelector('.tab-button[data-tab="dashboard"]');e&&n(e)}};it=a,window.addEventListener("hashchange",it),document.querySelector(".page-content:not(.hidden)")||location.hash?location.hash&&a():a(),lt=!0,t.forEach(e=>e.addEventListener("click",()=>i(null,null,function*(){t.forEach(e=>e.classList.remove("task-tab-active")),e.classList.add("task-tab-active"),z(".task-tab-content").forEach(e=>e.classList.add("hidden"));const n=document.getElementById(`task-tab-${e.dataset.taskTab}`);if(n&&n.classList.remove("hidden"),"today"===e.dataset.taskTab&&ve){const e=Re();yield ot(e)}})));const r=document.getElementById("month-selector");r&&r.addEventListener("change",e=>i(null,null,function*(){we=e.target.value;const[t,n]=we.split("-").map(Number);ke=new Date(t,n-1,1),Qe(),Ge()}));const s=document.getElementById("prev-month-btn"),l=document.getElementById("next-month-btn");if(s&&s.addEventListener("click",()=>{ke.setMonth(ke.getMonth()-1),nt()}),l&&l.addEventListener("click",()=>{ke.setMonth(ke.getMonth()+1),nt()}),ut("debt-modal","add-debt-btn",()=>{document.getElementById("debt-form").reset(),document.getElementById("debt-id").value="",document.getElementById("debt-modal-title").textContent=H[O].addDebt}),ut("daily-task-modal","add-daily-task-btn",()=>{document.getElementById("daily-task-form").reset(),document.getElementById("daily-task-id").value="",document.getElementById("daily-task-modal-title").textContent=H[O].addTask}),ut("monthly-task-modal","add-monthly-task-btn",()=>{document.getElementById("monthly-task-form").reset(),document.getElementById("monthly-task-id").value="",document.getElementById("monthly-task-modal-title").textContent=H[O].addTask}),ut("yearly-task-modal","add-yearly-task-btn",()=>{document.getElementById("yearly-task-form").reset(),document.getElementById("yearly-task-id").value="",document.getElementById("yearly-task-modal-title").textContent=H[O].addTask}),ut("recurring-expense-modal","add-recurring-expense-btn",()=>{document.getElementById("recurring-expense-form").reset(),document.getElementById("recurring-expense-id").value="",document.getElementById("recurring-expense-modal-title").textContent=H[O].addTemplate}),"undefined"!=typeof particlesJS){const e=document.documentElement.classList.contains("dark"),t=e?"#ffffff":"#B8941F";particlesJS("particles-js",{particles:{number:{value:60,density:{enable:!0,value_area:800}},color:{value:t},shape:{type:"circle"},opacity:{value:e?.3:.35,random:!0},size:{value:e?2.5:3,random:!0},line_linked:{enable:!0,distance:150,color:t,opacity:e?.2:.25,width:1.5},move:{enable:!0,speed:1.5,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:.6}},push:{particles_nb:4}}},retina_detect:!0})}ut("expense-modal","add-expense-btn",()=>{document.getElementById("expense-form").reset(),document.getElementById("expense-id").value="",document.getElementById("expense-date").value=`${we}-01`,document.getElementById("expense-modal-title").textContent=H[O].addExpense}),ut("category-modal","manage-categories-btn",()=>{document.getElementById("category-form").reset()}),["debt-form","expense-form","daily-task-form","monthly-task-form","yearly-task-form","recurring-expense-form","event-form","category-form","debt-payment-form"].forEach(e=>{const t=document.getElementById(e);t&&t.addEventListener("submit",mt)}),document.getElementById("app").addEventListener("click",yt),document.getElementById("app").addEventListener("change",pt);const d=document.getElementById("daily-date-filter");d&&d.addEventListener("change",e=>{const t=e.target.value;if(t&&t!==Ce){if(Ce=t,ve)try{localStorage.setItem(`selectedDailyDate_${ve}`,t)}catch(n){}Ge()}});const c=document.getElementById("login-btn");c&&c.addEventListener("click",ht);const u=document.getElementById("register-btn");u&&u.addEventListener("click",gt);const m=document.getElementById("google-signin-btn");m&&m.addEventListener("click",bt);const y=document.getElementById("theme-toggle");y&&y.addEventListener("click",vt);const h=document.getElementById("mobile-menu-toggle"),g=document.getElementById("mini-sidebar");h&&g&&h.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),g.classList.toggle("hidden")});const b=document.getElementById("mobile-tabs-toggle"),v=document.getElementById("mobile-tabs-menu");b&&v&&(b.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),v.classList.contains("hidden")?(v.classList.remove("hidden"),b.setAttribute("aria-expanded","true")):(v.classList.add("hidden"),b.setAttribute("aria-expanded","false"))}),document.addEventListener("click",e=>{v.classList.contains("hidden")||v.contains(e.target)||b.contains(e.target)||(v.classList.add("hidden"),b.setAttribute("aria-expanded","false"))}),v.querySelectorAll(".tab-button").forEach(e=>{e.addEventListener("click",()=>{v.classList.add("hidden"),b.setAttribute("aria-expanded","false")})}));const f=document.getElementById("radio-play-pause-btn"),w=document.getElementById("radio-player"),k=document.getElementById("play-icon"),x=document.getElementById("pause-icon"),E=document.getElementById("equalizer");if(f&&w){const e=e=>{e?(null==k||k.classList.add("hidden"),null==x||x.classList.remove("hidden"),null==E||E.classList.remove("paused")):(null==k||k.classList.remove("hidden"),null==x||x.classList.add("hidden"),null==E||E.classList.add("paused"))};f.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),w.paused?w.play().catch(e=>{A("Radio play error:",e),P("–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ä–∞–¥–∏–æ","error")}):w.pause()}),w.addEventListener("play",()=>e(!0)),w.addEventListener("pause",()=>e(!1)),w.addEventListener("error",()=>{e(!1),A("Radio player error")}),document.addEventListener("keydown",e=>{"Space"===e.code&&"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(e.preventDefault(),f.click())})}const S={ru:"üá∑üá∫",en:"üá¨üáß",az:"üá¶üáø"},L={ru:"–†—É—Å—Å–∫–∏–π",en:"English",az:"Az…ôrbaycan"},T=()=>{const e=document.getElementById("lang-toggle-btn"),t=document.getElementById("lang-toggle-login"),n=S[O]||"üá∑üá∫",a=L[O]||"–†—É—Å—Å–∫–∏–π";e&&(e.textContent=n,e.title=a),t&&(t.textContent=n,t.title=a)};T();const I=e=>{const t=["az","en","ru"],n=t.indexOf(e);return t[(n+1)%t.length]},B=e=>{const t=["az","en","ru"],n=t.indexOf(e);return t[(n-1+t.length)%t.length]},C=(e,t=!1)=>{if(!e)return;let n=null;const a=e=>{e.preventDefault(),n=setTimeout(()=>{const e=B(O);Y(e,()=>{T(),wt(),Qe(),nt(),le(),J(),Me.length>0&&Ze(Me)})},450)},r=()=>{n&&(clearTimeout(n),n=null)};e.addEventListener("pointerdown",a),e.addEventListener("pointerup",r),e.addEventListener("pointerleave",r),e.addEventListener("touchstart",a,{passive:!1}),e.addEventListener("touchend",r),e.addEventListener("contextmenu",e=>{e.preventDefault();const t=B(O);Y(t,()=>{T()})})},D=document.getElementById("lang-toggle-btn");D&&(D.addEventListener("click",e=>{e.preventDefault();const t=I(O);Y(t,()=>{T(),wt(),Qe(),nt(),le(),J(),Me.length>0&&Ze(Me)})}),C(D));const $=document.getElementById("lang-toggle-login");$&&($.addEventListener("click",e=>{e.preventDefault();const t=I(O);Y(t,()=>{T()})}),C($,!0));const M=document.getElementById("curr-toggle-btn");M&&M.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),qe="AZN"===qe?"USD":"AZN",localStorage.setItem("currency",qe),wt(),ve&&at()});const q=document.getElementById("calculator-btn"),N=document.getElementById("calculator-modal");if(q&&N){q.addEventListener("click",()=>{const e=document.getElementById("calc-display");e&&(e.value=""),N.showModal()});const e=document.getElementById("calc-display");let t="";const n=()=>{e&&(e.value=t.replace(/\*/g,"√ó").replace(/\//g,"√∑"))};document.querySelectorAll("#calculator-modal .calc-btn").forEach(e=>{e.addEventListener("click",()=>{const a=e.getAttribute("data-val");a&&(t+=a,n())})}),document.querySelectorAll("#calculator-modal .calc-op").forEach(e=>{e.addEventListener("click",()=>{const a=e.getAttribute("data-op");a&&(""===t&&"-"!==a||(t+=a,n()))})});const a=document.getElementById("calc-clear"),r=document.getElementById("calc-back"),s=document.getElementById("calc-eq");a&&a.addEventListener("click",()=>{t="",n()}),r&&r.addEventListener("click",()=>{t=t.slice(0,-1),n()}),s&&s.addEventListener("click",()=>{try{const e=t.replace(/[^0-9+\-*/.]/g,""),a=Function(`return (${e||"0"})`)();t=String(a),n()}catch(Et){P("–û—à–∏–±–∫–∞ –≤—ã—Ä–∞–∂–µ–Ω–∏—è","error")}});const o=N.querySelector(".cancel-btn");o&&o.addEventListener("click",()=>N.close())}const R=document.getElementById("shopping-list-btn"),j=document.getElementById("shopping-list-modal");if(R&&j){const e=()=>ve?`shopping_list_${ve}`:"shopping_list_local",t=()=>{try{return JSON.parse(localStorage.getItem(e())||"[]")}catch(Et){return[]}},n=t=>{try{localStorage.setItem(e(),JSON.stringify(t))}catch(Et){}},a=()=>{const e=document.getElementById("shopping-list"),n=t().filter(e=>!e.bought);e&&(0!==n.length?e.innerHTML=n.map((e,t)=>`\n                <div class="flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded">\n                    <div class="flex items-center gap-3">\n                        <label class="flex items-center gap-2 text-sm"><input type="checkbox" class="shop-check" data-index="${t}"/><span>–ö—É–ø–ª–µ–Ω–æ</span></label>\n                        <span class="font-medium">${e.name}</span>\n                        <span class="text-xs px-2 py-0.5 rounded bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200">–ù–µ –∫—É–ø–ª–µ–Ω–æ</span>\n                        <span class="text-sm text-gray-500">√ó ${e.qty}</span>\n                    </div>\n                    <button class="shop-del text-red-600" data-index="${t}" title="–£–¥–∞–ª–∏—Ç—å">üóëÔ∏è</button>\n                </div>\n            `).join(""):e.innerHTML='<div class="text-sm text-gray-500">–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç</div>')};R.addEventListener("click",()=>{a(),j.showModal()});const r=document.getElementById("shopping-form");r&&r.addEventListener("submit",e=>{var s,o;e.preventDefault();const l=null==(o=null==(s=document.getElementById("shop-name"))?void 0:s.value)?void 0:o.trim(),d=document.getElementById("shop-qty"),i=parseInt((null==d?void 0:d.value)||"1",10)||1;if(!l)return;const c=t();c.push({name:l,qty:i,bought:!1}),n(c),r.reset(),a()});const s=document.getElementById("shopping-list");s&&s.addEventListener("click",e=>{const r=e.target;if(r.classList.contains("shop-check")){const e=parseInt(r.getAttribute("data-index"),10),s=t();s[e]&&(s[e].bought=!0,n(s),a())}else if(r.classList.contains("shop-del")){const e=parseInt(r.getAttribute("data-index"),10),s=t();s.splice(e,1),n(s),a()}});const o=j.querySelector(".cancel-btn");o&&o.addEventListener("click",()=>j.close())}document.getElementById("payments-inline-wrapper");const F=document.getElementById("logout-btn");F&&F.addEventListener("click",()=>i(null,null,function*(){try{yield p(o)}catch(e){A("Logout error:",e),P("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ","error")}}));const U=document.getElementById("toggle-tasks-panel"),W=document.getElementById("dashboard-tasks-panel"),G=document.getElementById("tasks-panel-arrow");U&&W&&G&&U.addEventListener("click",()=>{"50px"===W.style.maxHeight?(W.style.maxHeight="20vh",G.style.transform="rotate(0deg)"):(W.style.maxHeight="50px",G.style.transform="rotate(-90deg)")})}function ut(e,t,n){const a=document.getElementById(e),r=document.getElementById(t);if(!a)return;r&&r.addEventListener("click",()=>{n&&n(),a.showModal()});const s=a.querySelector(".cancel-btn");s&&s.addEventListener("click",()=>a.close())}function mt(e){return i(this,null,function*(){e.preventDefault();const t=e.target,n=t.id;try{"debt-form"===n?yield function(e){return i(this,null,function*(){const t=e.querySelector("#debt-id").value,n={name:e.querySelector("#debt-name").value,totalAmount:parseFloat(e.querySelector("#debt-total").value),paidAmount:parseFloat(e.querySelector("#debt-paid").value),comment:e.querySelector("#debt-comment").value};t?yield v(g(de,t),n):(n.createdAt=E.now(),yield S(de,n))})}(t):"expense-form"===n?yield function(e){return i(this,null,function*(){const t=e.querySelector("#expense-id").value,n={name:e.querySelector("#expense-name").value,category:e.querySelector("#expense-category").value,amount:parseFloat(e.querySelector("#expense-amount").value),date:e.querySelector("#expense-date").value};t?yield v(g(ue,t),n):yield S(ue,n)})}(t):"daily-task-form"===n?yield function(e){return i(this,null,function*(){var t;const n=e.querySelector("#daily-task-id").value,a=(null==(t=document.getElementById("daily-date-filter"))?void 0:t.value)||Ce||Re(),r={name:e.querySelector("#daily-task-name").value,notes:e.querySelector("#daily-task-notes").value||"",status:H.ru.statusNotDone,date:a,carriedOver:!1};n?yield v(g(me,n),r):yield S(me,r)})}(t):"monthly-task-form"===n?yield function(e){return i(this,null,function*(){const t=e.querySelector("#monthly-task-id").value,n={name:e.querySelector("#monthly-task-name").value,deadline:e.querySelector("#monthly-task-deadline").value,status:H.ru.statusNotDone,month:we};t?yield v(g(ye,t),n):yield S(ye,n)})}(t):"yearly-task-form"===n?yield function(e){return i(this,null,function*(){const t=e.querySelector("#yearly-task-id").value,n={name:e.querySelector("#yearly-task-name").value,deadline:e.querySelector("#yearly-task-deadline").value,notes:e.querySelector("#yearly-task-notes").value||"",status:H.ru.statusNotDone,year:ke.getFullYear()};t?yield v(g(pe,t),n):yield S(pe,n)})}(t):"recurring-expense-form"===n?yield function(e){return i(this,null,function*(){const t=e.querySelector("#recurring-expense-id").value,n={name:e.querySelector("#recurring-expense-name").value,amount:parseFloat(e.querySelector("#recurring-expense-amount").value),dueDay:parseInt(e.querySelector("#recurring-expense-due-day").value),details:e.querySelector("#recurring-expense-details").value||""};t?yield v(g(ie,t),n):yield S(ie,n)})}(t):"event-form"===n?yield function(e){return i(this,null,function*(){const t=e.querySelector("#event-id").value,n=e.querySelector("#event-category").value;let a={date:e.querySelector("#event-date").value,category:n};"event"===n?a.name=e.querySelector("#event-name-generic").value:"birthday"===n?(a.birthdayName=e.querySelector("#event-birthday-name").value,a.birthYear=e.querySelector("#event-birthday-year").value||null):"meeting"===n?(a.meetingWith=e.querySelector("#event-meeting-with").value,a.time=e.querySelector("#event-meeting-time").value||null,a.place=e.querySelector("#event-meeting-place").value||null):"wedding"===n&&(a.weddingNames=e.querySelector("#event-wedding-names").value),t?yield v(g(ge,t),a):(yield S(ge,a),e.querySelector("#event-create-task").checked)})}(t):"category-form"===n?yield function(e){return i(this,null,function*(){const t=e.querySelector("#category-name").value;t&&(yield S(he,{name:t,lang:O}),kt((yield L(T(he))).docs.map(e=>d({id:e.id},e.data()))))})}(t):"debt-payment-form"===n&&(yield function(e){return i(this,null,function*(){const t=e.querySelector("#debt-payment-id").value,n=parseFloat(e.querySelector("#debt-payment-amount").value);if(!t||!n)return;const a=yield b(g(de,t));if(!a.exists())return;const r=(a.data().paidAmount||0)+n;yield v(g(de,t),{paidAmount:r})})}(t));const e=t.closest("dialog");e&&e.close(),P(H[O].toastSuccess)}catch(a){A("Form submit error:",a),P(H[O].toastError,"error")}})}function yt(e){return i(this,null,function*(){var t;const n=e.target,a=n.dataset.id||(null==(t=n.closest("[data-id]"))?void 0:t.dataset.id);if(n.closest(".delete-debt-btn"))confirm(H[O].deleteConfirm)&&(yield h(g(de,a)),P(H[O].toastDeleted));else if(n.closest(".delete-expense-btn"))confirm(H[O].deleteConfirm)&&(yield h(g(ue,a)),P(H[O].toastDeleted));else if(n.closest(".delete-daily-task-btn"))confirm(H[O].deleteConfirm)&&(yield h(g(me,a)),P(H[O].toastDeleted));else if(n.closest(".delete-monthly-task-btn"))confirm(H[O].deleteConfirm)&&(yield h(g(ye,a)),P(H[O].toastDeleted));else if(n.closest(".delete-yearly-task-btn"))confirm(H[O].deleteConfirm)&&(yield h(g(pe,a)),P(H[O].toastDeleted));else if(n.closest(".delete-recurring-expense-btn"))confirm(H[O].deleteConfirm)&&(yield h(g(ie,a)),P(H[O].toastDeleted));else if(n.closest(".delete-category-btn"))confirm(H[O].deleteConfirm)&&(yield h(g(he,a)),P(H[O].toastDeleted));else if(n.closest(".edit-debt-btn")){const e=yield b(g(de,a));if(e.exists()){const t=e.data(),n=document.getElementById("debt-form");n.querySelector("#debt-id").value=a,n.querySelector("#debt-name").value=t.name,n.querySelector("#debt-amount").value=t.amount,n.querySelector("#debt-paid").value=t.paidAmount||0,n.querySelector("#debt-last-payment").value=t.lastPaymentDate||"",n.querySelector("#debt-comments").value=t.comments||"",document.getElementById("debt-modal-title").textContent=H[O].editDebt,document.getElementById("debt-modal").showModal()}}else if(n.closest(".edit-expense-btn")){const e=yield b(g(ue,a));if(e.exists()){const t=e.data(),n=document.getElementById("expense-form");n.querySelector("#expense-id").value=a,n.querySelector("#expense-name").value=t.name,n.querySelector("#expense-category").value=t.category,n.querySelector("#expense-amount").value=t.amount,n.querySelector("#expense-date").value=t.date,document.getElementById("expense-modal-title").textContent=H[O].editExpense,document.getElementById("expense-modal").showModal()}}else if(n.closest(".edit-daily-task-btn")){const e=yield b(g(me,a));if(e.exists()){const t=e.data(),n=document.getElementById("daily-task-form");n.querySelector("#daily-task-id").value=a,n.querySelector("#daily-task-name").value=t.name,n.querySelector("#daily-task-notes").value=t.notes||"",document.getElementById("daily-task-modal-title").textContent=H[O].editTask,document.getElementById("daily-task-modal").showModal()}}else if(n.closest(".edit-monthly-task-btn")){const e=yield b(g(ye,a));if(e.exists()){const t=e.data(),n=document.getElementById("monthly-task-form");n.querySelector("#monthly-task-id").value=a,n.querySelector("#monthly-task-name").value=t.name,n.querySelector("#monthly-task-deadline").value=t.deadline||"",document.getElementById("monthly-task-modal-title").textContent=H[O].editTask,document.getElementById("monthly-task-modal").showModal()}}else if(n.closest(".edit-yearly-task-btn")){const e=yield b(g(pe,a));if(e.exists()){const t=e.data(),n=document.getElementById("yearly-task-form");n.querySelector("#yearly-task-id").value=a,n.querySelector("#yearly-task-name").value=t.name,n.querySelector("#yearly-task-deadline").value=t.deadline||"",n.querySelector("#yearly-task-notes").value=t.notes||"",document.getElementById("yearly-task-modal-title").textContent=H[O].editTask,document.getElementById("yearly-task-modal").showModal()}}else if(n.closest(".edit-recurring-expense-btn")){const e=yield b(g(ie,a));if(e.exists()){const t=e.data(),n=document.getElementById("recurring-expense-form");n.querySelector("#recurring-expense-id").value=a,n.querySelector("#recurring-expense-name").value=t.name,n.querySelector("#recurring-expense-amount").value=t.amount,n.querySelector("#recurring-expense-day").value=t.day,document.getElementById("recurring-expense-modal-title").textContent=H[O].editTemplate,document.getElementById("recurring-expense-modal").showModal()}}else if(n.closest(".add-debt-payment-btn")){const e=document.getElementById("debt-payment-form");e.reset(),e.querySelector("#debt-payment-id").value=a,document.getElementById("debt-payment-modal").showModal()}else if(n.closest(".calendar-day")){if(n.closest(".calendar-day").dataset.date){const e=document.getElementById("event-form");e.reset(),e.querySelector("#event-id").value="",document.getElementById("event-modal").showModal()}}else if(n.closest(".event-item")){e.stopPropagation();const t=n.closest(".event-item").dataset.eventId,a=yield b(g(ge,t));if(a.exists()){const e=a.data(),n=document.getElementById("event-form");n.querySelector("#event-id").value=t,n.querySelector("#event-name").value=e.name,document.getElementById("event-modal").showModal()}}})}function pt(e){return i(this,null,function*(){const t=e.target,n=t.dataset.id;if(t.classList.contains("task-status-select")){const e=t.value,a=t.dataset.col;let r;"dailyTasks"===a?r=me:"monthlyTasks"===a?r=ye:"yearlyTasks"===a&&(r=pe),r&&n&&(yield v(g(r,n),{status:e}))}})}function ht(e){return i(this,null,function*(){e.preventDefault();const t=document.getElementById("auth-form"),n=t.email.value,a=t.password.value;try{yield f(o,n,a)}catch(r){document.getElementById("auth-error").textContent=r.message}})}function gt(e){return i(this,null,function*(){e.preventDefault();const t=document.getElementById("auth-form"),n=t.email.value,a=t.password.value;try{yield w(o,n,a)}catch(r){document.getElementById("auth-error").textContent=r.message}})}function bt(e){return i(this,null,function*(){e.preventDefault();try{yield k(o,new x)}catch(t){document.getElementById("auth-error").textContent=t.message}})}function vt(){document.documentElement.classList.toggle("dark");const e=document.documentElement.classList.contains("dark");localStorage.setItem("theme",e?"dark":"light"),ft()}function ft(){const e=document.getElementById("theme-icon-moon"),t=document.getElementById("theme-icon-sun"),n=document.documentElement.classList.contains("dark");e&&e.classList.toggle("hidden",n),t&&t.classList.toggle("hidden",!n)}function wt(){z(".currency-symbol").forEach(e=>e.textContent=qe);const e=document.getElementById("curr-toggle-btn");e&&(e.textContent="USD"===qe?"$":"‚Çº",e.title="USD"===qe?"Switch to AZN":"Switch to USD")}function kt(e){const t=document.getElementById("category-list");if(!t)return;const n=e.filter(e=>e.lang===O);t.innerHTML=n.map(e=>`\n        <div class="flex justify-between items-center p-2 bg-gray-100 rounded-lg dark:bg-gray-700">\n            <span>${e.name}</span>\n            <button data-id="${e.id}" class="delete-category-btn text-red-500 hover:text-red-700">üóëÔ∏è</button>\n        </div>`).join("")}Promise.allSettled||(Promise.allSettled=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e})).catch(e=>({status:"rejected",reason:e}))))}),function(){return i(this,null,function*(){yield function(){return i(this,null,function*(){O&&U()})}(),y(o,e=>i(null,null,function*(){if(e){ve=e.uid,Ye(),Ve(),setTimeout(()=>{ct()},50);const a=Re();yield ot(a),yield function(){return i(this,null,function*(){if(!ve)return;const e=`lastMonthlyCheck_${ve}`;if(localStorage.getItem(e)!==fe){const a=new Date(fe+"-01T00:00:00");a.setMonth(a.getMonth()-1);const r=a.toISOString().slice(0,7),o=I(s,`users/${ve}/monthlyData/${r}/tasks`);try{const e=T(o,B("status","==",H.ru.statusNotDone)),a=yield L(e);if(!a.empty){const e=C(s);a.forEach(a=>{const r=a.data();if(!r.fromCalendar){const o=a(ye);e.set(o,(s=d({},r),t(s,n({month:fe,carriedOver:!0}))))}var s}),yield e.commit()}}catch(Et){}localStorage.setItem(e,fe)}})}(),wt(),J(),le(),Oe(),window.particlesJS&&particlesJS("particles-js",{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:.5,random:!1},size:{value:3,random:!0},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{repulse:{distance:100,duration:.4},push:{particles_nb:4}}},retina_detect:!0})}else Je()})),function(){const e=localStorage.getItem("theme");"dark"===e||!e&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),ft()}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{ct()}):setTimeout(()=>ct(),10),wt(),st()})}().catch(e=>{A("Failed to initialize app:",e);const t=document.getElementById("loading-overlay");t&&(t.innerHTML=`\n            <div class="text-center">\n                <p class="text-red-600 mb-4">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</p>\n                <p class="text-sm text-gray-600">${e.message}</p>\n            </div>\n        `)}),function(){i(this,null,function*(){try{q("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js",{crossOrigin:"anonymous",referrerPolicy:"no-referrer",defer:!0,async:!0,lazy:!0}).catch(e=>$("Font Awesome failed to load",e));const e=()=>{(document.querySelector("[data-chart]")||document.getElementById("expense-chart")||document.getElementById("expenses-chart"))&&q("https://cdn.jsdelivr.net/npm/chart.js",{lazy:!1,async:!0,timeout:5e3}).then(()=>{window.updateDashboard&&setTimeout(()=>window.updateDashboard(),100)}).catch(e=>$("Chart.js failed to load",e))};"requestIdleCallback"in window?requestIdleCallback(e,{timeout:2e3}):setTimeout(e,1e3),(document.querySelector("[data-gsap]")||document.querySelector(".gsap-animation"))&&("requestIdleCallback"in window?requestIdleCallback(()=>{q("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js",{lazy:!0,async:!0,timeout:5e3}).catch(e=>$("GSAP failed to load",e))}):setTimeout(()=>{q("https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js",{lazy:!0,async:!0,timeout:5e3}).catch(e=>$("GSAP failed to load",e))},2e3)),document.getElementById("background-animation")&&("requestIdleCallback"in window?requestIdleCallback(()=>{q("https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js",{lazy:!0,async:!0,timeout:5e3}).catch(e=>$("Particles.js failed to load",e))}):setTimeout(()=>{q("https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js",{lazy:!0,async:!0,timeout:5e3}).catch(e=>$("Particles.js failed to load",e))},2e3))}catch(e){A("Error loading external scripts:",e)}})}(),function(){if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src),n.dataset.srcset&&(n.srcset=n.dataset.srcset),n.classList.remove("lazy"),t.unobserve(n)}})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll('img[loading="lazy"]').forEach(t=>{e.observe(t)})}}();let xt=null;"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").catch(e=>A("SW register error",e)),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),xt=e;const t=document.getElementById("pwa-install-btn-footer");t&&t.classList.remove("hidden")}),window.addEventListener("appinstalled",()=>{const e=document.getElementById("pwa-install-btn-footer");e&&e.classList.add("hidden"),xt=null}),document.addEventListener("click",e=>{e.target.closest("#pwa-install-btn-footer")&&xt&&(xt.prompt(),xt.userChoice.finally(()=>{const e=document.getElementById("pwa-install-btn-footer");e&&e.classList.add("hidden"),xt=null}))})}},function(){return A||(0,$[a($)[0]])((A={exports:{}}).exports,A),A.exports});export default M();