## Цели
- Сделать стабильный, компактный хедер, где всегда видны: лого, слоган, погода, радио и правые иконки.
- Обеспечить «интеллектуальную адаптацию» под любые экраны: от очень узких до десктопа.
- Привести ключевые виджеты (погода, радио, «Последняя активность») к корректной работе.
- Проверить проект целиком: PWA, i18n, производительность, сетевые ошибки, устойчивость.

## Подход к хедеру
1. Единая строка без переносов:
   - Перевод контейнера хедера на устойчивый `flex` с `flex-wrap: nowrap`, гарантируя отсутствия вертикального роста.
   - Установка корректных shrink/overflow для всех блоков: `min-width: 0`, `flex-shrink: 1`, `text-overflow: ellipsis` для слогана.
2. Приоритетное сжатие контента:
   - При нехватке ширины применяются ступени: скрыть радио-лейбл → сократить город → уменьшить paddings → перейти к иконкам без подписи.
   - На сверхузких экранах включить горизонтальный скролл чипов вместо скрытия ключевых элементов.
3. Автоматизация через `ResizeObserver`:
   - Реализовать `AdaptiveHeaderManager` (JS), который измеряет доступную ширину контейнера и включает CSS-классы состояний: `header--compact`, `chips--icon-only`, `chips--text`.
   - При смене языка/валюты/темы выполнять перерасчёт.
4. Слоган и порядок элементов:
   - Порядок: лого → слоган → погода → радио → правые иконки.
   - Слоган видим всегда, но сокращается по правилу ellipsis; при сверхузком экране переносится в компактную версию.

## Погода и радио
- Погода: убедиться, что компактные элементы `#weather-temp-compact`, `#weather-city-compact` обновляются (`src/js/weather.js`), настроить безопасный фолбэк при ошибках API.
- Радио: сохранить управление кнопкой `Play/Pause`, скрывать текст станции по приоритету, оставляя иконку и эквалайзер.

## «Последняя активность»
- Убедиться, что регистрации действий корректны:
  - Платёж по долгу пишет `lastPaymentDate`.
  - Смена статуса задач ставит `updatedAt`.
- Упорядочивание и ограничение на N записей; всегда присутствует пустое состояние.

## PWA и установка
- Проверить манифест и сервис-воркер.
- Баннер «Установить приложение»: показывать по `beforeinstallprompt`, скрывать по `appinstalled`, корректные локализации.

## i18n и локализация
- Проверить наличие ключей для новых текстов (например, `installPrompt`, activity-строки).
- Привести рус/англ/аз к единому набору.

## Производительность и устойчивость
- Убрать конфликтующие CSS-правила для хедера; собрать единый блок стилей для шапки.
- Минимизировать `min-height` и большие паддинги; использовать `clamp()` для размеров.
- Сетевые ошибки внешних сервисов не падают на UI (показываем фолбэк).

## Верификация
- Локальный предпросмотр на разных ширинах, проверка единичной строки.
- Проверка всех вкладок и виджетов: отсутствие «вырезаний», корректный скролл.
- Финальная сборка и запуск предпросмотра.

## Результат
- Компактный единый хедер с гарантией видимости ключевых элементов.
- Интеллектуальная адаптация с приоритетным сжатием.
- Исправленные виджеты и стабильная работа PWA/i18n.

Подтвердите план — сразу реализую правки и проведу полную проверку проекта.