var e=(e,t,r)=>new Promise((s,n)=>{var a=e=>{try{l(r.next(e))}catch(t){n(t)}},o=e=>{try{l(r.throw(e))}catch(t){n(t)}},l=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,o);l((r=r.apply(e,t)).next())});import{S as t,i as r,s,n,a,r as o,b as l,W as i,c,e as u,t as d,f as h,h as g,l as w,j as m,m as p,k as f,p as y,a2 as v,A as b,q as x,J as k,a3 as S,v as _,O as z,B as A,Y as C,a0 as N,y as M,a1 as $}from"./vendor--JVHgTLP.js";import{l as E,t as T,a as L,u as j,b as H}from"./index-bIa-Dxi_.js";import"./vendor-firebase-B24wstWK.js";const R={ru:{all:["https://lenta.ru/rss","https://www.kommersant.ru/RSS/main.xml","https://www.rbc.ru/rss/rbcnews.rss"],technology:["https://3dnews.ru/news/rss/"],business:["https://www.rbc.ru/rss/rbcnews.rss"],science:["https://nplus1.ru/rss"],sports:["https://www.sports.ru/rss/all.xml"],health:["https://rg.ru/rss/vlast/zdorove/index.xml"],entertainment:["https://www.afisha.ru/rss/news/"]},en:{all:["https://feeds.bbci.co.uk/news/rss.xml","https://rss.nytimes.com/services/xml/rss/nyt/HomePage.xml"],technology:["https://rss.nytimes.com/services/xml/rss/nyt/Technology.xml"],business:["https://feeds.bbci.co.uk/news/business/rss.xml"],science:["https://www.sciencedaily.com/rss/all.xml"],sports:["https://feeds.bbci.co.uk/sport/rss.xml"],health:["https://www.medicalnewstoday.com/feed/rss"],entertainment:["https://feeds.bbci.co.uk/news/entertainment_and_arts/rss.xml"]},az:{all:["https://apa.az/az/rss","https://trend.az/rss/az/main"],technology:["https://trend.az/rss/az/it"],business:["https://trend.az/rss/az/business"],science:["https://apa.az/az/rss"],sports:["https://apa.az/az/idman/rss"],health:["https://apa.az/az/saglamliq/rss"],entertainment:["https://apa.az/az/sou-biznes/rss"]},it:{all:["https://www.ansa.it/sito/ansait_rss.xml"],technology:["https://www.ansa.it/sito/notizie/tecnologia/tecnologia_rss.xml"],business:["https://www.ansa.it/sito/notizie/economia/economia_rss.xml"],science:["https://www.ansa.it/sito/notizie/scienza_tecnica/scienza_tecnica_rss.xml"],sports:["https://www.ansa.it/sito/notizie/sport/sport_rss.xml"],health:["https://www.ansa.it/sito/notizie/sanita/sanita_rss.xml"],entertainment:["https://www.ansa.it/sito/notizie/cultura/cultura_rss.xml"]}},q="cached_news",P=[e=>`https://api.allorigins.win/get?url=${encodeURIComponent(e)}`,e=>`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(e)}`,e=>`https://corsproxy.io/?${encodeURIComponent(e)}`];function D(e,t="all"){const r=R[e]||R.en,s=r[t]||r.all||[];return Array.isArray(s)?s:[]}function I(e,t=12e3){const r=new AbortController,s=setTimeout(()=>r.abort(),t);return fetch(e,{signal:r.signal,cache:"no-cache",mode:"cors"}).finally(()=>clearTimeout(s))}function B(e){if(!e||"string"!=typeof e)return"";try{const t=new URL(e);return new Set(["utm_source","utm_medium","utm_campaign","utm_term","utm_content","fbclid","ref","mc_cid","mc_eid","_ga","utm_id"]).forEach(e=>t.searchParams.delete(e)),t.toString()}catch(t){return e}}function O(e){if(!e||"string"!=typeof e)return"";let t=e.replace(/&amp;/g,"&").trim();return t.startsWith("//")&&(t="https:"+t),B(t)}function J(t,r=2){return e(this,null,function*(){let e=null;const s=(()=>{try{return new URL(t).hostname.replace("www.","")||"News"}catch(e){return"News"}})();for(let a=0;a<P.length;a++){const o=P[a];for(let a=0;a<r;a++)try{const e=o(t),r=yield I(e,12e3);if(!r.ok)throw new Error(`HTTP ${r.status}`);let n;if((r.headers.get("content-type")||"").includes("application/json")){const e=yield r.json();n="string"==typeof e.contents?e.contents:JSON.stringify(e)}else n=yield r.text();if(!n||!n.trim())throw new Error("Empty response");const a=(new DOMParser).parseFromString(n,"text/xml");if(a.querySelector("parsererror"))throw new Error("XML parse error");const l=a.querySelectorAll("item");if(!l.length)throw new Error("No items found");const i=[];if(l.forEach(e=>{var t,r,n,a,o;const l=((null==(t=e.querySelector("title"))?void 0:t.textContent)||"").trim(),c=(null==(r=e.querySelector("description"))?void 0:r.textContent)||"",u=c.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().substring(0,200),d=(null==(n=e.querySelector("link"))?void 0:n.textContent)||"",h=(null==(a=e.querySelector("pubDate"))?void 0:a.textContent)||"";let g="";const w=["media\\:content",'content[type^="image"]',"media\\:thumbnail",'enclosure[type^="image"]'];for(const s of w){const t=e.querySelector(s);if(t&&(g=t.getAttribute("url")||t.getAttribute("src")||t.textContent||"",g))break}const m=e.querySelector("enclosure");if(!g&&m&&(null==(o=m.getAttribute("type"))?void 0:o.startsWith("image/"))&&(g=m.getAttribute("url")||""),!g&&c){const e=c.match(/<img[^>]+src=["']([^"']+)["']/i);e&&(g=e[1])}g&&(g=O(g)),l&&d&&i.push({title:l,desc:u,image:g,url:B(d),source:s,publishedAt:h,categories:[]})}),i.length)return i}catch(n){e=n instanceof Error?n:new Error(String(n)),yield new Promise(e=>setTimeout(e,300))}}return e&&E.debug("RSS parse error:",e.message),[]})}function F(e){const t=new Set;return e.filter(e=>{var r;const s=null==(r=e.url)?void 0:r.trim();return!(!s||t.has(s))&&(t.add(s),!0)})}function U(){if("undefined"==typeof localStorage)return null;try{const e=localStorage.getItem(q);if(!e)return null;const{timestamp:t,data:r}=JSON.parse(e);return!Array.isArray(r)||Date.now()-t>18e5?null:r}catch(e){return null}}function V(e,t,r){const s=e.slice();return s[28]=t[r],s}function W(e){let t,r,s=[],n=new Map,o=_(e[9]);const l=e=>e[28].url;for(let a=0;a<o.length;a+=1){let t=V(e,o,a),r=l(t);n.set(r,s[a]=Z(r,t))}let i=e[0]<e[4].length&&ee(e);return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=f(),i&&i.c(),r=A()},m(e,n){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,n);h(e,t,n),i&&i.m(e,n),h(e,r,n)},p(e,a){15112&a&&(o=_(e[9]),s=z(s,a,l,1,e,o,n,t.parentNode,$,Z,t,V)),e[0]<e[4].length?i?i.p(e,a):(i=ee(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){e&&(a(t),a(r));for(let t=0;t<s.length;t+=1)s[t].d(e);i&&i.d(e)}}}function X(e){let t,r,s=T(e[10],"newsNoNews","–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")+"";return{c(){t=m("div"),r=p(s),c(t,"class","text-sm text-gray-500 dark:text-gray-400 p-2")},m(e,s){h(e,t,s),g(t,r)},p(e,t){1024&t&&s!==(s=T(e[10],"newsNoNews","–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã")+"")&&l(r,s)},d(e){e&&a(t)}}}function Y(e){let t,r,s,n,o,i,u,d,y=T(e[10],"retry","Retry")+"";return{c(){t=m("div"),r=m("div"),s=p(e[6]),n=f(),o=m("button"),i=p(y),c(r,"class","text-sm text-red-500 mb-2"),c(o,"class","px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg text-xs hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors"),c(t,"class","flex flex-col items-center justify-center h-48 text-center p-4")},m(a,l){h(a,t,l),g(t,r),g(r,s),g(t,n),g(t,o),g(o,i),u||(d=w(o,"click",e[14]),u=!0)},p(e,t){64&t&&l(s,e[6]),1024&t&&y!==(y=T(e[10],"retry","Retry")+"")&&l(i,y)},d(e){e&&a(t),u=!1,d()}}}function G(e){let t;return{c(){t=m("div"),t.innerHTML='<div class="news-item-image-skeleton w-20 h-20 bg-gray-200 dark:bg-gray-700"></div> <div class="news-item-content-skeleton flex-1"><div class="h-3 w-2/3 bg-gray-200 dark:bg-gray-700 rounded"></div> <div class="h-3 w-1/2 bg-gray-200 dark:bg-gray-700 rounded"></div> <div class="h-3 w-3/4 bg-gray-200 dark:bg-gray-700 rounded"></div></div>',c(t,"class","animate-pulse news-item-skeleton")},m(e,r){h(e,t,r)},p:n,d(e){e&&a(t)}}}function K(e){let t;return{c(){t=m("div"),t.innerHTML='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>',c(t,"class","news-item-image-placeholder")},m(e,r){h(e,t,r)},p:n,d(e){e&&a(t)}}}function Q(e){let t,r,s,n,o,l;function i(){return e[22](e[28])}return{c(){t=m("div"),r=m("img"),M(r.src,s=e[28].image)||c(r,"src",s),c(r,"alt",n=e[28].title),c(r,"loading","lazy"),c(t,"class","news-item-image")},m(e,s){h(e,t,s),g(t,r),o||(l=w(r,"error",i),o=!0)},p(t,a){e=t,512&a&&!M(r.src,s=e[28].image)&&c(r,"src",s),512&a&&n!==(n=e[28].title)&&c(r,"alt",n)},d(e){e&&a(t),o=!1,l()}}}function Z(e,t){let r,s,n,o,i,u,v,b,x,k,S,_,z,A,M,$,E,T,L,j,H,R,q,P,D,I,B=t[28].source+"",O=t[12](t[28].publishedAt)+"",J=t[28].title+"",F=t[28].desc+"";function U(){return t[21](t[28])}function V(e,t){return 768&t&&(v=null),null==v&&(v=!(!e[28].image||e[8].has(e[28].url))),v?Q:K}let W=V(t,-1),X=W(t);return{key:e,first:null,c(){r=m("a"),s=m("button"),n=y("svg"),o=y("path"),u=f(),X.c(),b=f(),x=m("div"),k=m("div"),S=m("span"),_=p(B),z=f(),A=m("span"),M=p(O),$=f(),E=m("div"),T=p(J),L=f(),j=m("div"),H=p(F),R=f(),q=m("div"),q.innerHTML='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>',c(o,"stroke-linecap","round"),c(o,"stroke-linejoin","round"),c(o,"d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"),c(n,"class","w-5 h-5"),c(n,"viewBox","0 0 24 24"),c(n,"fill",i=t[3].has(t[28].url)?"currentColor":"none"),c(n,"stroke","currentColor"),c(n,"stroke-width","2"),c(s,"type","button"),c(s,"class","news-item-favorite-btn"),c(s,"aria-label","Favorite"),d(s,"active",t[3].has(t[28].url)),c(S,"class","news-item-source"),c(A,"class","news-item-date"),c(k,"class","news-item-header"),c(E,"class","news-item-title"),c(j,"class","news-item-desc"),c(x,"class","news-item-content"),c(q,"class","news-item-arrow"),c(r,"class","news-item"),c(r,"href",P=t[28].url),c(r,"target","_blank"),c(r,"rel","noopener noreferrer"),this.first=r},m(e,t){h(e,r,t),g(r,s),g(s,n),g(n,o),g(r,u),X.m(r,null),g(r,b),g(r,x),g(x,k),g(k,S),g(S,_),g(k,z),g(k,A),g(A,M),g(x,$),g(x,E),g(E,T),g(x,L),g(x,j),g(j,H),g(r,R),g(r,q),D||(I=w(s,"click",C(N(U))),D=!0)},p(e,a){t=e,520&a&&i!==(i=t[3].has(t[28].url)?"currentColor":"none")&&c(n,"fill",i),520&a&&d(s,"active",t[3].has(t[28].url)),W===(W=V(t,a))&&X?X.p(t,a):(X.d(1),X=W(t),X&&(X.c(),X.m(r,b))),512&a&&B!==(B=t[28].source+"")&&l(_,B),512&a&&O!==(O=t[12](t[28].publishedAt)+"")&&l(M,O),512&a&&J!==(J=t[28].title+"")&&l(T,J),512&a&&F!==(F=t[28].desc+"")&&l(H,F),512&a&&P!==(P=t[28].url)&&c(r,"href",P)},d(e){e&&a(r),X.d(),D=!1,I()}}}function ee(e){let t,r,s,n,o,i=T(e[10],"newsLoadMore","–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë")+"";return{c(){t=m("div"),r=m("button"),s=p(i),c(r,"class","px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-md"),c(t,"class","flex justify-center py-2")},m(a,l){h(a,t,l),g(t,r),g(r,s),n||(o=w(r,"click",e[23]),n=!0)},p(e,t){1024&t&&i!==(i=T(e[10],"newsLoadMore","–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë")+"")&&l(s,i)},d(e){e&&a(t),n=!1,o()}}}function te(e){let t,r,s,x,k,S,_,z,A,C,N,M,$,E,L,j,H,R,q,P,D,I,B,O,J,F,U,V,K,Q,Z,ee,te=T(e[10],"newsAllCategories","–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")+"",re=T(e[10],"newsTechnology","üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏")+"",se=T(e[10],"newsBusiness","üíº –ë–∏–∑–Ω–µ—Å")+"",ne=T(e[10],"newsScience","üî¨ –ù–∞—É–∫–∞")+"",ae=T(e[10],"newsSports","‚öΩ –°–ø–æ—Ä—Ç")+"",oe=T(e[10],"newsHealth","üè• –ó–¥–æ—Ä–æ–≤—å–µ")+"",le=T(e[10],"newsEntertainment","üé¨ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è")+"";function ie(e,t){return e[5]?G:e[6]?Y:0===e[4].length?X:W}let ce=ie(e),ue=ce(e);return{c(){t=m("section"),r=m("div"),s=m("div"),x=m("select"),k=m("option"),S=p(te),_=m("option"),z=p(re),A=m("option"),C=p(se),N=m("option"),M=p(ne),$=m("option"),E=p(ae),L=m("option"),j=p(oe),H=m("option"),R=p(le),q=f(),P=m("input"),I=f(),B=m("button"),B.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"></path></svg>',O=f(),J=m("button"),F=y("svg"),U=y("path"),K=f(),Q=m("div"),ue.c(),k.__value="all",u(k,k.__value),_.__value="technology",u(_,_.__value),A.__value="business",u(A,A.__value),N.__value="science",u(N,N.__value),$.__value="sports",u($,$.__value),L.__value="health",u(L,L.__value),H.__value="entertainment",u(H,H.__value),c(x,"id","news-category"),c(x,"class","news-select text-sm p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 flex-grow focus:ring-2 focus:ring-blue-500"),c(x,"aria-label","News category filter"),void 0===e[7]&&v(()=>e[17].call(x)),c(P,"id","news-search"),c(P,"type","text"),c(P,"class","news-search-input text-sm p-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 flex-grow max-w-xs focus:ring-2 focus:ring-blue-500"),c(P,"placeholder",D=T(e[10],"newsSearchPlaceholder","–ü–æ–∏—Å–∫...")),c(P,"aria-label","Search news"),c(B,"id","news-favorites-toggle"),c(B,"class","news-favorites-btn p-2 text-gray-500 hover:text-yellow-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),c(B,"type","button"),c(B,"aria-label","Show favorites"),c(B,"title","–ò–∑–±—Ä–∞–Ω–Ω–æ–µ"),d(B,"active",e[2]),c(U,"stroke-linecap","round"),c(U,"stroke-linejoin","round"),c(U,"stroke-width","2"),c(U,"d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"),c(F,"class","w-5 h-5"),c(F,"fill","none"),c(F,"stroke","currentColor"),c(F,"viewBox","0 0 24 24"),c(J,"id","news-refresh"),c(J,"class","news-refresh-btn p-2 text-gray-500 hover:text-blue-600 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"),c(J,"type","button"),c(J,"aria-label","Refresh news"),c(J,"title",V=T(e[10],"newsRefresh","–û–±–Ω–æ–≤–∏—Ç—å")),c(s,"class","news-toolbar-left flex gap-2 w-full items-center"),c(r,"class","news-toolbar p-3 border-b border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 flex-shrink-0"),c(Q,"id","news-results"),c(Q,"class","news-list flex-1 min-h-0 overflow-y-auto p-3 space-y-3"),c(t,"id","news-widget"),c(t,"class","w-full premium-card p-0 overflow-hidden border border-gray-200 dark:border-gray-700 flex flex-col h-full"),b(t,"border","1px solid rgba(212, 175, 55, 0.2)")},m(n,a){h(n,t,a),g(t,r),g(r,s),g(s,x),g(x,k),g(k,S),g(x,_),g(_,z),g(x,A),g(A,C),g(x,N),g(N,M),g(x,$),g($,E),g(x,L),g(L,j),g(x,H),g(H,R),i(x,e[7],!0),g(s,q),g(s,P),u(P,e[1]),g(s,I),g(s,B),g(s,O),g(s,J),g(J,F),g(F,U),g(t,K),g(t,Q),ue.m(Q,null),Z||(ee=[w(x,"change",e[17]),w(x,"change",e[18]),w(P,"input",e[19]),w(B,"click",e[20]),w(J,"click",e[15])],Z=!0)},p(e,[t]){1024&t&&te!==(te=T(e[10],"newsAllCategories","–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")+"")&&l(S,te),1024&t&&re!==(re=T(e[10],"newsTechnology","üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏")+"")&&l(z,re),1024&t&&se!==(se=T(e[10],"newsBusiness","üíº –ë–∏–∑–Ω–µ—Å")+"")&&l(C,se),1024&t&&ne!==(ne=T(e[10],"newsScience","üî¨ –ù–∞—É–∫–∞")+"")&&l(M,ne),1024&t&&ae!==(ae=T(e[10],"newsSports","‚öΩ –°–ø–æ—Ä—Ç")+"")&&l(E,ae),1024&t&&oe!==(oe=T(e[10],"newsHealth","üè• –ó–¥–æ—Ä–æ–≤—å–µ")+"")&&l(j,oe),1024&t&&le!==(le=T(e[10],"newsEntertainment","üé¨ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è")+"")&&l(R,le),128&t&&i(x,e[7]),1024&t&&D!==(D=T(e[10],"newsSearchPlaceholder","–ü–æ–∏—Å–∫..."))&&c(P,"placeholder",D),2&t&&P.value!==e[1]&&u(P,e[1]),4&t&&d(B,"active",e[2]),1024&t&&V!==(V=T(e[10],"newsRefresh","–û–±–Ω–æ–≤–∏—Ç—å"))&&c(J,"title",V),ce===(ce=ie(e))&&ue?ue.p(e,t):(ue.d(1),ue=ce(e),ue&&(ue.c(),ue.m(Q,null)))},i:n,o:n,d(e){e&&a(t),ue.d(),Z=!1,o(ee)}}}function re(t,r,s){let n,a,o,l;x(t,L,e=>s(10,o=e)),x(t,j,e=>s(24,l=e));let i=[],c=6,u=!0,d=null,h="all",g="",w=!1,m=new Set,p=new Set;function f(e){e&&(m.has(e)?m.delete(e):m.add(e),s(3,m=new Set(m)),function(){try{localStorage.setItem("newsFavorites",JSON.stringify(Array.from(m)))}catch(e){}}())}function y(e){p.add(e),s(8,p=new Set(p))}function v(){return e(this,null,function*(){s(5,u=!0),s(6,d=null);try{s(16,i=yield function(t="en",r="all"){return e(this,null,function*(){const e=R[t]?t:"en",s=R[e]&&r in R[e]?r:"all",n=D(e,s).slice(0,4).map(e=>J(e,1)),a=yield Promise.allSettled(n),o=[];a.forEach(e=>{"fulfilled"===e.status&&e.value.length&&o.push(...e.value)});let l=F(o);if(0===l.length&&"en"!==e){const e=D("en",s).slice(0,4).map(e=>J(e,1));(yield Promise.allSettled(e)).forEach(e=>{"fulfilled"===e.status&&e.value.length&&o.push(...e.value)}),l=F(o)}l.sort((e,t)=>{const r=new Date(e.publishedAt).getTime();return new Date(t.publishedAt).getTime()-r});const i=l.slice(0,50);if("undefined"!=typeof localStorage&&i.length>0)try{localStorage.setItem(q,JSON.stringify({timestamp:Date.now(),data:i,lang:e,category:s}))}catch(c){}return i})}(l.language,h)),0===i.length&&s(6,d=T(o,"newsNotFound","–ù–æ–≤–æ—Å—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"))}catch(t){E.error("News fetch error:",t),s(6,d=T(o,"newsError","–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ—Å—Ç–µ–π"));const e=U();(null==e?void 0:e.length)&&(s(16,i=e),s(6,d=null))}finally{s(5,u=!1)}})}function b(){document.hidden||setTimeout(()=>v(),0)}k(()=>{!function(){try{const e=localStorage.getItem("newsFavorites");if(!e)return void s(3,m=new Set);const t=JSON.parse(e);Array.isArray(t)?s(3,m=new Set(t.filter(e=>"string"==typeof e))):s(3,m=new Set)}catch(e){s(3,m=new Set)}}();const e=U();(null==e?void 0:e.length)&&(s(16,i=e),s(5,u=!1)),v();const t=setInterval(()=>{document.hidden||v()},18e5);return document.addEventListener("visibilitychange",b),()=>{clearInterval(t),document.removeEventListener("visibilitychange",b)}});return t.$$.update=()=>{65550&t.$$.dirty&&s(4,n=(()=>{let e=i;w&&(e=e.filter(e=>m.has(e.url)));const t=g.trim().toLowerCase();return t&&(e=e.filter(e=>`${e.title} ${e.desc} ${e.source}`.toLowerCase().includes(t))),e})()),17&t.$$.dirty&&s(9,a=n.slice(0,c))},[c,g,w,m,n,u,d,h,p,a,o,f,function(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return e;const r=H(o,"monthsShort",[]),s=r[t.getMonth()]||t.toLocaleDateString(void 0,{month:"short"}),n=t.getDate(),a=t.getHours().toString().padStart(2,"0"),l=t.getMinutes().toString().padStart(2,"0");return r.length?`${n} ${s}, ${a}:${l}`:t.toLocaleDateString()},y,v,function(){try{localStorage.removeItem(q)}catch(e){}v()},i,function(){h=S(this),s(7,h)},()=>v(),function(){g=this.value,s(1,g)},()=>s(2,w=!w),e=>f(e.url),e=>y(e.url),()=>s(0,c=Math.min(c+6,n.length))]}class se extends t{constructor(e){super(),r(this,e,re,te,s,{})}}export{se as default};